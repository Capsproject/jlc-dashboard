import{c as oe,d as W,f as H,g as K,h as Q}from"./chunk-WXI33M2S.js";import{b as z}from"./chunk-VAOLQZL4.js";import{a as x,c as M}from"./chunk-SPUI625X.js";import{f as ne,i as J,j as U,k as ie}from"./chunk-EK4EW2T2.js";import{Ea as j,Ja as C,La as s,Mb as T,N as te,Nb as $,Ob as N,Pa as A,Qb as R,Ra as P,Sa as V,Sb as h,T as d,Ta as r,Ua as i,Va as l,Wa as B,X as f,Xa as w,Ya as g,Za as p,a as ee,ab as k,da as y,ea as S,fb as F,gb as m,ib as v,kb as b,mb as I,nb as L,qb as O,ya as a}from"./chunk-XNIYBQ7V.js";import{a as Z,b as G}from"./chunk-EQDQRRRY.js";var re=(()=>{class t{static pages=[{group:"Owner",separator:!0,roles:["owner"],items:[{icon:"icons/heroicons/outline/calendar.svg",label:"Show Calendar",route:"/owner/calendar"},{icon:"icons/heroicons/outline/cog.svg",label:"Schedule Job Orders",route:"/owner/job-orders"},{icon:"icons/heroicons/outline/list.svg",label:"Technician List",route:"/owner/users?accountType=technician"}]},{group:"Job Order",separator:!1,roles:["customer"],items:[{icon:"icons/heroicons/solid/document.svg",label:"Transactions",route:"/customer/home"}]},{group:"Admin",separator:!0,roles:["admin"],items:[{icon:"icons/heroicons/solid/document.svg",label:"Job Orders",route:"/admin/job-orders"},{icon:"icons/heroicons/outline/gift.svg",label:"Archive",route:"/gift"}]},{group:"Manage Work",separator:!1,roles:["manager"],items:[{icon:"icons/heroicons/outline/cog.svg",label:"Job Order Dashboard",route:"/settings"}]},{group:"Manage Records",separator:!0,roles:["manager"],items:[{icon:"icons/heroicons/outline/document-text.svg",label:"Customer Dashboard",route:"/records"}]},{group:"Manage Users",separator:!0,roles:["owner"],items:[{icon:"icons/heroicons/outline/users.svg",label:"Users",route:"/owner/users"}]},{group:"Analytics Dashboard",separator:!0,roles:["owner"],items:[{icon:"icons/heroicons/outline/chart-pie.svg",label:"Analytics Dashboard",route:"/owner/dashboard"}]},{group:"Tasks",separator:!0,roles:["technician"],items:[{icon:"icons/heroicons/outline/check-circle.svg",label:"Tasks",route:"/tasks"}]}]}return t})();var _=(()=>{class t{_showSidebar=j(!0);_showMobileMenu=j(!1);_pagesMenu=j([]);_subsciptions=new ee;router=d(J);constructor(){this._pagesMenu.set(re.pages);let e=this.router.events.subscribe(n=>{n instanceof ne&&this._pagesMenu().forEach(o=>{let u=!1;o.items.forEach(E=>{let q=this.isActive(E.route);E.expanded=q,E.active=q,q&&(u=!0),E.children&&this.expand(E.children)}),o.active=u})});this._subsciptions.add(e)}get showSideBar(){return this._showSidebar()}get showMobileMenu(){return this._showMobileMenu()}get pagesMenu(){return this._pagesMenu()}set showSideBar(e){this._showSidebar.set(e)}set showMobileMenu(e){this._showMobileMenu.set(e)}toggleSidebar(){this._showSidebar.set(!this._showSidebar())}toggleMenu(e){this.showSideBar=!0,e.expanded=!e.expanded}toggleSubMenu(e){e.expanded=!e.expanded}expand(e){e.forEach(n=>{n.expanded=this.isActive(n.route),n.children&&this.expand(n.children)})}isActive(e){return this.router.isActive(this.router.createUrlTree([e]),{paths:"subset",queryParams:"subset",fragment:"ignored",matrixParams:"ignored"})}ngOnDestroy(){this._subsciptions.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var me=t=>({hidden:t}),ue=t=>({item:t}),de=(t,c)=>({hidden:t,"rotate-90":c});function pe(t,c){if(t&1&&(r(0,"div",13)(1,"a",14),m(2),i()()),t&2){let e=c.item;k("routerLink",e.route),a(2),v(" ",e.label," ")}}function ge(t,c){if(t&1&&(r(0,"div",15)(1,"a",16),m(2),i()()),t&2){let e=c.item;a(2),v(" ",e.label," ")}}function fe(t,c){if(t&1&&(r(0,"button",17),l(1,"svg-icon",18),i()),t&2){let e=p().$implicit,n=p(2);s("ngClass",L(2,de,!n.menuService.showSideBar,e.expanded)),a(),s("svgClass","h-5 w-5")}}function ve(t,c){if(t&1){let e=w();r(0,"li")(1,"div",8),g("click",function(){let o=y(e).$implicit,u=p(2);return S(u.toggleMenu(o))}),r(2,"div",9),l(3,"svg-icon",10),i(),B(4,11),C(5,pe,3,2,"ng-template",null,0,O)(7,ge,3,1,"ng-template",null,1,O)(9,fe,2,5,"button",12),i()()}if(t&2){let e=c.$implicit,n=F(6),o=F(8),u=p(2);a(2),s("ngClass",e.active&&!u.menuService.showSideBar?"text-primary":"text-muted-foreground/50"),a(),k("src",e.icon),s("svgClass","h-5 w-5"),a(),s("ngTemplateOutlet",e.children?o:n)("ngTemplateOutletContext",I(6,ue,e)),a(5),s("ngIf",e.children)}}function be(t,c){t&1&&(r(0,"div",19),l(1,"hr",20),i())}function he(t,c){if(t&1&&(r(0,"div",2)(1,"div",3)(2,"small",4),m(3),i()(),r(4,"ul",5),C(5,ve,10,8,"li",6),i(),C(6,be,2,0,"div",7),i()),t&2){let e=c.$implicit,n=p();a(2),s("ngClass",I(4,me,!n.menuService.showSideBar)),a(),v(" ",e.group," "),a(2),s("ngForOf",e.items),a(),s("ngIf",e.separator)}}var ae=(()=>{class t{menuService=d(_);authServices=d(z);filteredMenu=[];toggleMenu(e){this.menuService.toggleMenu(e)}ngOnInit(){this.filterMenu()}filterMenu(){let e=this.authServices.userInfo?.user_role.name,n=this.menuService.pagesMenu;this.filteredMenu=n.filter(o=>o.roles.some(u=>e?.includes(u))).map(o=>G(Z({},o),{items:o.items.filter(u=>o.roles.some(E=>e?.includes(E)))}))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=f({type:t,selectors:[["app-sidebar-menu"]],standalone:!0,features:[b],decls:2,vars:0,consts:[["parentMenu",""],["childMenu",""],[1,"pt-4"],[1,"mx-1","mb-2","flex","items-center","justify-between"],[1,"text-xs","font-semibold","text-muted-foreground/50",3,"ngClass"],[1,"flex","flex-col","space-y-1"],[4,"ngFor","ngForOf"],["class","pt-3",4,"ngIf"],[1,"group","relative","text-muted-foreground",3,"click"],[1,"pointer-events-none","absolute","m-2",3,"ngClass"],[3,"src","svgClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","pointer-events-none absolute top-1 right-0 flex items-center p-1 text-muted-foreground/50 transition-all duration-500",3,"ngClass",4,"ngIf"],[1,"flex","h-9","cursor-pointer","items-center","justify-start","rounded","text-muted-foreground","hover:bg-card","hover:text-foreground",3,"routerLink"],["routerLinkActive","text-primary",1,"ml-10","truncate","text-xs","font-semibold","tracking-wide","focus:outline-none"],[1,"flex","h-9","cursor-pointer","items-center","justify-start","rounded","hover:bg-card"],[1,"ml-10","truncate","text-xs","font-semibold","tracking-wide","text-muted-foreground","focus:outline-none","group-hover:text-foreground"],[1,"pointer-events-none","absolute","top-1","right-0","flex","items-center","p-1","text-muted-foreground/50","transition-all","duration-500",3,"ngClass"],["src","icons/heroicons/solid/chevron-right.svg",3,"svgClass"],[1,"pt-3"],[1,"border-dashed","border-border"]],template:function(n,o){n&1&&P(0,he,7,6,"div",2,A),n&2&&V(o.filteredMenu)},dependencies:[M,x,R,U,ie,h,T,$,N],encapsulation:2,changeDetection:0})}return t})();var xe=t=>({"rotate-180":t});function _e(t,c){if(t&1){let e=w();r(0,"div",7)(1,"a",8),g("click",function(){y(e);let o=p();return S(o.toggleSidebar())}),l(2,"svg-icon",9),i(),r(3,"b",10),m(4," JLC APP "),i()()}}var Ge=(()=>{class t{menuService=d(_);toggleSidebar(){this.menuService.toggleSidebar()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=f({type:t,selectors:[["app-sidebar"]],standalone:!0,features:[b],decls:8,vars:5,consts:[[1,"border-r-2","scrollbar-thumb-rounded","scrollbar-track-rounded","hidden","h-full","drop-shadow-lg","flex-col","justify-between","overflow-auto","bg-background","pt-3","transition-all","duration-300","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-card","lg:flex",3,"ngClass"],[1,"px-4"],[1,"relative","h-12"],["class","flex items-center",4,"ngIf"],[1,"absolute","top-2","right-2","flex","h-5","w-5","items-center","justify-center","rounded","text-muted-foreground/50","transition-all","duration-200","focus:outline-none","hover:text-muted-foreground",3,"click","ngClass"],["src","icons/heroicons/solid/chevron-double-left.svg"],[1,"mx-4","my-4","space-y-1"],[1,"flex","items-center"],[1,"flex","cursor-pointer","items-center","justify-center","rounded","p-2","focus:outline-none","focus:ring-1",3,"click"],["src","icons/jlc-logo.svg"],[1,"ml-1","pl-2","text-sm","font-bold","text-foreground"]],template:function(n,o){n&1&&(r(0,"nav",0)(1,"div",1)(2,"div",2),C(3,_e,5,0,"div",3),r(4,"button",4),g("click",function(){return o.toggleSidebar()}),l(5,"svg-icon",5),i()(),l(6,"app-sidebar-menu"),i(),l(7,"div",6),i()),n&2&&(s("ngClass",o.menuService.showSideBar?"w-52 xl:w-64":"w-[70px]"),a(3),s("ngIf",o.menuService.showSideBar),a(),s("ngClass",I(3,xe,!o.menuService.showSideBar)))},dependencies:[h,T,N,ae,x],encapsulation:2,changeDetection:0})}return t})();function Ce(t,c){if(t&1){let e=w();r(0,"li",14),g("click",function(){let o=y(e).$implicit,u=p();return S(u.handleClickMenu(o.click))}),l(1,"svg-icon",15),m(2),i()}if(t&2){let e=c.$implicit;a(),k("src",e.icon),s("svgClass","h-5 w-5 text-muted-foreground/50"),a(),v(" ",e.title," ")}}var se=(()=>{class t{router=d(J);auth=d(z);isOpen=!1;profileMenu=[{title:"Log out",icon:"./icons/heroicons/outline/logout.svg",click:2}];ngOnInit(){}toggleMenu(){this.isOpen=!this.isOpen}handleClickMenu(e){e===1?this.router.navigate(["/settings"]):e===2?this.auth.logout():e===0&&this.router.navigate(["/profile"])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=f({type:t,selectors:[["app-profile-menu"]],standalone:!0,features:[b],decls:18,vars:3,consts:[[1,"relative","ml-3"],["type","button",1,"relative","flex","rounded-full","text-sm",3,"click"],[1,"sr-only"],["src","https://avatars.githubusercontent.com/u/12519008?v=4","alt","",1,"h-9","w-9","rounded-md"],[1,"absolute","right-0","z-20","mt-2","w-60","origin-top-right","transform","rounded-md","bg-white","drop-shadow-lg","text-gray-800","py-4","shadow-custom","ring-1","ring-transparent","ring-opacity-5","transition","focus:outline-none"],[1,"flext-row","flex","items-center","px-4","pb-4"],[1,"w-10","shrink-0"],["src","https://avatars.githubusercontent.com/u/12519008?v=4","alt","",1,"rounded-md"],[1,"overflow-hidden","px-2","text-sm","font-semibold","text-foreground"],[1,"truncate","text-ellipsis","text-xs","font-semibold","text-muted-foreground"],[1,"border-b","border-dashed","border-border"],[1,"my-2","mx-4","flex","flex-col"],["key","$index",1,"inline-flex","cursor-pointer","items-center","gap-2","rounded-md","px-3","py-2","text-xs","font-semibold","text-muted-foreground","hover:bg-card","hover:text-primary"],[1,"border-dashed","border-border"],["key","$index",1,"inline-flex","cursor-pointer","items-center","gap-2","rounded-md","px-3","py-2","text-xs","font-semibold","text-muted-foreground","hover:bg-card","hover:text-primary",3,"click"],[3,"src","svgClass"]],template:function(n,o){n&1&&(r(0,"div",0)(1,"button",1),g("click",function(){return o.toggleMenu()}),r(2,"span",2),m(3,"Open user menu"),i(),l(4,"img",3),i(),r(5,"div",4)(6,"div",5)(7,"div",6),l(8,"img",7),i(),r(9,"div",8),m(10),r(11,"p",9),m(12),i()()(),l(13,"div",10),r(14,"ul",11),P(15,Ce,3,3,"li",12,A),i(),l(17,"hr",13),i()()),n&2&&(a(5),s("@openClose",o.isOpen?"open":"closed"),a(5),v(" ",o.auth.userInfo.name," "),a(2),v(" ",o.auth.userInfo.email," "),a(3),V(o.profileMenu))},dependencies:[h,M,x],styles:["[_nghost-%COMP%]{display:block}"],data:{animation:[oe("openClose",[K("open",H({opacity:1,transform:"translateY(0)",visibility:"visible"})),K("closed",H({opacity:0,transform:"translateY(-20px)",visibility:"hidden"})),Q("open => closed",[W("0.2s")]),Q("closed => open",[W("0.2s")])])]},changeDetection:0})}return t})();var Me=t=>({item:t}),ye=(t,c)=>({hidden:t,"rotate-90":c});function Se(t,c){if(t&1){let e=w();r(0,"div",13)(1,"a",14),g("click",function(){y(e);let o=p(3);return S(o.closeMenu())}),m(2),i()()}if(t&2){let e=c.item;k("routerLink",e.route),a(2),v(" ",e.label," ")}}function we(t,c){if(t&1&&(r(0,"div",15)(1,"a",16),m(2),i()()),t&2){let e=c.item;a(2),v(" ",e.label," ")}}function ke(t,c){if(t&1&&(r(0,"button",17),l(1,"svg-icon",18),i()),t&2){let e=p().$implicit,n=p(2);s("ngClass",L(2,ye,!n.menuService.showSideBar,e.expanded)),a(),s("svgClass","h-5 w-5")}}function Te(t,c){if(t&1){let e=w();r(0,"li")(1,"div",8),g("click",function(){let o=y(e).$implicit,u=p(2);return S(u.toggleMenu(o))}),r(2,"div",9),l(3,"svg-icon",10),i(),B(4,11),C(5,Se,3,2,"ng-template",null,0,O)(7,we,3,1,"ng-template",null,1,O)(9,ke,2,5,"button",12),i()()}if(t&2){let e=c.$implicit,n=F(6),o=F(8),u=p(2);a(2),s("ngClass",e.active&&!u.menuService.showSideBar?"text-primary":"text-muted-foreground/50"),a(),k("src",e.icon),s("svgClass","h-5 w-5"),a(),s("ngTemplateOutlet",e.children?o:n)("ngTemplateOutletContext",I(6,Me,e)),a(5),s("ngIf",e.children)}}function Ee(t,c){if(t&1&&(r(0,"div",3)(1,"div",4)(2,"small",5),m(3),i()(),r(4,"ul",6),C(5,Te,10,8,"li",7),i()()),t&2){let e=c.$implicit;a(3),v(" ",e.group," "),a(2),s("ngForOf",e.items)}}var le=(()=>{class t{menuService=d(_);toggleMenu(e){this.menuService.toggleMenu(e)}closeMenu(){this.menuService.showMobileMenu=!1}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=f({type:t,selectors:[["app-navbar-mobile-menu"]],standalone:!0,features:[b],decls:1,vars:1,consts:[["parentMenu",""],["childMenu",""],["class","pt-4",4,"ngFor","ngForOf"],[1,"pt-4"],[1,"mx-1","mb-2","flex","items-center","justify-between"],[1,"text-xs","font-semibold","text-muted-foreground"],[1,"flex","flex-col","space-y-1"],[4,"ngFor","ngForOf"],[1,"group","relative","text-muted-foreground","hover:text-foreground",3,"click"],[1,"pointer-events-none","absolute","m-2",3,"ngClass"],[3,"src","svgClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","pointer-events-none absolute top-1 right-0 flex items-center p-1 text-muted-foreground/50 transition-all duration-500",3,"ngClass",4,"ngIf"],[1,"flex","h-9","cursor-pointer","items-center","justify-start","rounded","hover:bg-card",3,"routerLink"],["routerLinkActive","text-primary",1,"ml-10","truncate","text-xs","font-semibold","tracking-wide","focus:outline-none",3,"click"],[1,"flex","h-9","cursor-pointer","items-center","justify-start","rounded","hover:bg-card"],[1,"ml-10","truncate","text-xs","font-semibold","tracking-wide","focus:outline-none"],[1,"pointer-events-none","absolute","top-1","right-0","flex","items-center","p-1","text-muted-foreground/50","transition-all","duration-500",3,"ngClass"],["src","icons/heroicons/solid/chevron-right.svg",3,"svgClass"]],template:function(n,o){n&1&&C(0,Ee,6,2,"div",2),n&2&&s("ngForOf",o.menuService.pagesMenu)},dependencies:[h,T,$,N,R,M,x,U],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return t})();var ce=(()=>{class t{menuService=d(_);toggleMenu(e){this.menuService.toggleMenu(e)}toggleMobileMenu(){this.menuService.showMobileMenu=!1}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=f({type:t,selectors:[["app-navbar-mobile"]],standalone:!0,features:[b],decls:17,vars:1,consts:[[1,"absolute","inset-x-0","top-1","z-10","origin-top-right","transform","p-2","transition","md:hidden",3,"ngClass"],[1,"rounded-lg","bg-white","shadow-lg"],[1,"pt-5","pb-6"],[1,"flex","items-center","justify-between","px-5"],[1,"flex","items-center","justify-start","sm:order-2","md:mr-10","lg:hidden"],[1,"flex","items-center","justify-center","rounded","bg-primary","p-2","focus:outline-none","focus:ring-1"],["src","icons/logo.svg"],[1,"pl-3","text-sm","font-bold","text-foreground"],[1,"-mr-2"],["type","button",1,"inline-flex","items-center","justify-center","rounded-md","p-2","text-muted-foreground","transition-transform","focus:outline-none","focus:ring-2","focus:ring-inset","focus:ring-primary","hover:rotate-90","hover:bg-card","hover:text-foreground",3,"click"],[1,"sr-only"],["src","icons/heroicons/outline/x.svg"],[1,"scrollbar-thumb-rounded","scrollbar-track-rounded","max-h-[500px]","overflow-y-auto","px-5","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"]],template:function(n,o){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div",4)(6,"a",5),l(7,"svg-icon",6),i(),r(8,"b",7),m(9," Angular Tailwind "),i()()(),r(10,"div",8)(11,"button",9),g("click",function(){return o.toggleMobileMenu()}),r(12,"span",10),m(13,"Close menu"),i(),l(14,"svg-icon",11),i()()(),r(15,"div",12),l(16,"app-navbar-mobile-menu"),i()()()()),n&2&&s("ngClass",o.menuService.showMobileMenu?"pointer-events-auto scale-100 animate-fade-in-up opacity-100 duration-200":"pointer-events-none scale-95 opacity-0 duration-100 ease-out")},dependencies:[h,T,M,x,le],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return t})();var Lt=(()=>{class t{menuService=d(_);toggleMobileMenu(){this.menuService.showMobileMenu=!0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=f({type:t,selectors:[["app-navbar"]],standalone:!0,features:[b],decls:16,vars:1,consts:[[1,"relative","bg-background"],[1,"mx-auto","px-5"],[1,"flex","items-center","justify-between","py-3.5","md:justify-start"],[1,"sm:order-1","md:hidden"],["type","button","aria-expanded","false",1,"inline-flex","items-center","justify-center","rounded-md","bg-muted","p-2","text-muted-foreground","focus:outline-none","focus:ring-2","focus:ring-inset","focus:ring-primary","hover:bg-muted-foreground","hover:text-muted",3,"click"],[1,"sr-only"],["src","icons/heroicons/outline/menu.svg",3,"svgClass"],[1,"flex","items-center","justify-start","sm:order-2","md:mr-10","lg:hidden"],[1,"flex","items-center","justify-center","rounded","bg-primary","p-2","focus:outline-none","focus:ring-1"],["src","icons/logo.svg"],[1,"hidden","pl-3","text-sm","font-bold","text-foreground","sm:block"],[1,"items-center","justify-end","sm:order-4","md:flex","md:flex-1","lg:w-0"]],template:function(n,o){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),g("click",function(){return o.toggleMobileMenu()}),r(5,"span",5),m(6,"Open menu"),i(),l(7,"svg-icon",6),i()(),r(8,"div",7)(9,"a",8),l(10,"svg-icon",9),i(),r(11,"b",10),m(12," Angular Tailwind "),i()(),r(13,"div",11),l(14,"app-profile-menu"),i()()(),l(15,"app-navbar-mobile"),i()),n&2&&(a(7),s("svgClass","h-6 w-6"))},dependencies:[h,M,x,se,ce],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return t})();export{Ge as a,Lt as b};
