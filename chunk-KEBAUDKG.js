import{b as g}from"./chunk-GZAHCXZ7.js";import{a as B,b as W,c as K,d as A,e as U}from"./chunk-MUZQS44C.js";import{a as v,c as H,e as I,g as q,l as Y,m as y,o as V}from"./chunk-BL7ZAHDM.js";import"./chunk-YK5KEETG.js";import{a as O}from"./chunk-FWAAACPL.js";import{a as G}from"./chunk-Y4WQNBZL.js";import{Fa as M,Ka as w,Ma as l,O as F,Pa as x,Tb as b,U as s,Ua as n,Va as r,Wa as u,Y as p,Ya as J,Za as m,_a as f,db as P,ea as N,eb as E,fa as T,fb as L,gb as j,hb as C,ib as R,k as D,lb as d,ma as h,za as o}from"./chunk-O6BTFPW4.js";import"./chunk-EQDQRRRY.js";var X=[{id:"1",name:"John Doe",skills:["Skill 1","Skill 2"],location:"Location 1",availability:"Available"},{id:"2",name:"Jane Doe",skills:["Skill 3","Skill 4"],location:"Location 2",availability:"Not Available"},{id:"3",name:"John Smith",skills:["Skill 5","Skill 6"],location:"Location 3",availability:"Available"},{id:"4",name:"Jane Smith",skills:["Skill 7","Skill 8"],location:"Location 4",availability:"Not Available"},{id:"5",name:"John Doe",skills:["Skill 9","Skill 10"],location:"Location 5",availability:"Available"},{id:"6",name:"Jane Doe",skills:["Skill 11","Skill 12"],location:"Location 6",availability:"Not Available"},{id:"tech1",name:"John Doe",skills:["Electrical"],location:"New York, NY",availability:"Available"},{id:"tech2",name:"Jane Smith",skills:["Plumbing"],location:"Los Angeles, CA",availability:"Not Available"},{id:"tech3",name:"Michael Johnson",skills:["Carpentry"],location:"Chicago, IL",availability:"Available"},{id:"tech4",name:"Emily Davis",skills:["HVAC"],location:"Houston, TX",availability:"Not Available"},{id:"tech5",name:"James Brown",skills:["Painting"],location:"Phoenix, AZ",availability:"Available"},{id:"tech6",name:"Patricia Taylor",skills:["Welding"],location:"Miami, FL",availability:"Not Available"},{id:"tech7",name:"Robert Miller",skills:["Electrical","Plumbing"],location:"New York, NY",availability:"Available"},{id:"tech8",name:"Linda Wilson",skills:["Carpentry"],location:"Los Angeles, CA",availability:"Not Available"},{id:"tech9",name:"David Moore",skills:["HVAC","Painting"],location:"Chicago, IL",availability:"Available"},{id:"tech10",name:"Barbara Clark",skills:["Welding"],location:"Houston, TX",availability:"Not Available"},{id:"tech11",name:"Richard Lewis",skills:["Electrical"],location:"Phoenix, AZ",availability:"Available"},{id:"tech12",name:"Susan Walker",skills:["Plumbing"],location:"Miami, FL",availability:"Not Available"},{id:"tech13",name:"Joseph Hall",skills:["Carpentry"],location:"New York, NY",availability:"Available"},{id:"tech14",name:"Sarah Allen",skills:["HVAC"],location:"Los Angeles, CA",availability:"Not Available"},{id:"tech15",name:"Charles Young",skills:["Painting"],location:"Chicago, IL",availability:"Available"},{id:"tech16",name:"Karen Hernandez",skills:["Welding"],location:"Houston, TX",availability:"Not Available"},{id:"tech17",name:"Daniel King",skills:["Electrical","Plumbing"],location:"Phoenix, AZ",availability:"Available"},{id:"tech18",name:"Nancy Wright",skills:["Carpentry"],location:"Miami, FL",availability:"Not Available"},{id:"tech19",name:"Matthew Lopez",skills:["HVAC","Painting"],location:"New York, NY",availability:"Available"},{id:"tech20",name:"Betty Hill",skills:["Welding"],location:"Los Angeles, CA",availability:"Not Available"},{id:"tech21",name:"Anthony Scott",skills:["Electrical"],location:"Chicago, IL",availability:"Available"},{id:"tech22",name:"Sandra Green",skills:["Plumbing"],location:"Houston, TX",availability:"Not Available"},{id:"tech23",name:"Mark Adams",skills:["Carpentry"],location:"Phoenix, AZ",availability:"Available"},{id:"tech24",name:"Donna Baker",skills:["HVAC"],location:"Miami, FL",availability:"Not Available"},{id:"tech25",name:"Paul Gonzalez",skills:["Painting"],location:"New York, NY",availability:"Available"},{id:"tech26",name:"Carol Nelson",skills:["Welding"],location:"Los Angeles, CA",availability:"Not Available"},{id:"tech27",name:"Steven Carter",skills:["Electrical","Plumbing"],location:"Chicago, IL",availability:"Available"},{id:"tech28",name:"Ruth Mitchell",skills:["Carpentry"],location:"Houston, TX",availability:"Not Available"},{id:"tech29",name:"Andrew Perez",skills:["HVAC","Painting"],location:"Phoenix, AZ",availability:"Available"},{id:"tech30",name:"Sharon Roberts",skills:["Welding"],location:"Miami, FL",availability:"Not Available"},{id:"tech31",name:"Kenneth Turner",skills:["Electrical"],location:"New York, NY",availability:"Available"},{id:"tech32",name:"Dorothy Phillips",skills:["Plumbing"],location:"Los Angeles, CA",availability:"Not Available"},{id:"tech33",name:"Joshua Campbell",skills:["Carpentry"],location:"Chicago, IL",availability:"Available"},{id:"tech34",name:"Deborah Parker",skills:["HVAC"],location:"Houston, TX",availability:"Not Available"},{id:"tech35",name:"Kevin Evans",skills:["Painting"],location:"Phoenix, AZ",availability:"Available"},{id:"tech36",name:"Jennifer Edwards",skills:["Welding"],location:"Miami, FL",availability:"Not Available"},{id:"tech37",name:"Brian Collins",skills:["Electrical","Plumbing"],location:"New York, NY",availability:"Available"},{id:"tech38",name:"Maria Stewart",skills:["Carpentry"],location:"Los Angeles, CA",availability:"Not Available"},{id:"tech39",name:"George Sanchez",skills:["HVAC","Painting"],location:"Chicago, IL",availability:"Available"},{id:"tech40",name:"Laura Morris",skills:["Welding"],location:"Houston, TX",availability:"Not Available"},{id:"tech41",name:"Edward Rogers",skills:["Electrical"],location:"Phoenix, AZ",availability:"Available"},{id:"tech42",name:"Melissa Reed",skills:["Plumbing"],location:"Miami, FL",availability:"Not Available"},{id:"tech43",name:"Ronald Cook",skills:["Carpentry"],location:"New York, NY",availability:"Available"},{id:"tech44",name:"Ashley Morgan",skills:["HVAC"],location:"Los Angeles, CA",availability:"Not Available"},{id:"tech45",name:"Gary Bell",skills:["Painting"],location:"Chicago, IL",availability:"Available"},{id:"tech46",name:"Kimberly Murphy",skills:["Welding"],location:"Houston, TX",availability:"Not Available"},{id:"tech47",name:"Jeffrey Bailey",skills:["Electrical","Plumbing"],location:"Phoenix, AZ",availability:"Available"},{id:"tech48",name:"Amy Rivera",skills:["Carpentry"],location:"Miami, FL",availability:"Not Available"},{id:"tech49",name:"Scott Cooper",skills:["HVAC","Painting"],location:"New York, NY",availability:"Available"},{id:"tech50",name:"Cynthia Richardson",skills:["Welding"],location:"Los Angeles, CA",availability:"Not Available"}];var Z=[{value:"in_warranty",label:"In Warranty"},{value:"out_of_warranty",label:"Out of Warranty"}];var $=[{value:"LG",label:"LG"},{value:"Panasonic",label:"Panasonic"},{value:"MiDea",label:"MiDea"},{value:"Samsung",label:"Samsung"},{value:"Haier",label:"Haier"}];var z=[{value:"Shop Repair",label:"Shop Repair"},{value:"Home Service",label:"Home Service"},{value:"Pull Out",label:"Pull Out"}];var Q=(()=>{class t{selectedFile=new h;label="Upload";accept="/*";formGroup;controlName;imageUrl=null;get formControl(){return this.formGroup.get(this.controlName)}onFileSelected(i){let e=i.target;if(e.files&&e.files[0]){let a=e.files[0],c=new FileReader;c.onload=()=>{this.imageUrl=c.result,this.selectedFile.emit(a)},c.readAsDataURL(a)}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["jlc-image-upload"]],inputs:{label:"label",accept:"accept",formGroup:"formGroup",controlName:"controlName"},outputs:{selectedFile:"selectedFile"},standalone:!0,features:[d],decls:4,vars:2,consts:[[1,"flex","flex-col","mt-2","mb-2"],[1,"block","text-xxs","font-medium","text-gray-600","mb-1"],["type","file",1,"block","w-full","rounded-lg","py-[10px]","px-3","font-normal","text-xs","bg-white","text-gray-600","outline-none","border","border-solid","border-gray-300","focus:border-gray-500","focus-visible:border-gray-500","hover:border-gray-500",3,"change","accept"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"label",1),C(2),r(),n(3,"input",2),m("change",function(S){return a.onFileSelected(S)}),r()()),e&2&&(o(2),R(a.label),o(),l("accept",a.accept))},dependencies:[b,y],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return t})();var ee=(()=>{class t{url=O.apiUrl;http=s(G);createJobOrder(i){return this.http.post(`${this.url}/job-order`,i)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ae=(()=>{class t{close=new h;createJobReq;warrantyOptions=Z;brandOptions=$;serviceType=z;selectedFile;customers=M([]);accountType;fb=s(Y);jobOrderService=s(ee);auth=s(g);userS=s(W);ngOnInit(){this.initiateForm(),this.accountType=this.auth.userInfo.user_role.name,this.accountType!=="customer"&&this.userS.getAllUsers().subscribe(i=>{let e=i.body.data.filter(a=>a.user_role.name==="customer");e.map(a=>{e.map(c=>({label:c.name,value:c.id}))}),this.customers.set(e),console.log(this.customers.length)})}initiateForm(){this.createJobReq=this.fb.group({name:[""],address:[""],email:[""],mobile_number:[""],date_purchased:["",v.required],warranty_status:["",v.required],trouble_reported:[""],date_received:["",v.required],brand_name:["",v.required],service_type:["",v.required],upload_proof:[""]})}onFileSelected(i){this.selectedFile=i}onSubmit(){let i=new FormData;Object.keys(this.createJobReq.controls).forEach(e=>{let a=this.createJobReq.get(e)?.value;e==="upload_proof"?i.append(e,this.selectedFile):i.append(e,a),console.log(i)}),this.jobOrderService.createJobOrder(i).subscribe(e=>{console.log("Job Order Created",e)})}closeModal(){this.createJobReq.reset(),this.close.emit()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["jlc-create-job"]],outputs:{close:"close"},standalone:!0,features:[d],decls:18,vars:15,consts:[[1,"flex","p-4","w-full","gap-2","flex-col"],[1,"flex","gap-2"],[1,"w-1/2","flex","flex-col"],["controlName","name","label","Name","placeholder","Enter Name","type","text","autocomplete","name",3,"formGroup"],["controlName","address","label","Address","placeholder","Enter Address","type","text","autocomplete","address",3,"formGroup"],["controlName","email","label","Email","placeholder","Enter Email","type","email","autocomplete","email",3,"formGroup"],["controlName","mobile_number","label","Mobile Number","placeholder","Enter Mobile Number","type","text","autocomplete","mobile_number",3,"formGroup"],["controlName","date_purchased","label","Date Purchased","placeholder","Enter Date Purchased","type","date","autocomplete","date_purchased",3,"formGroup"],["controlName","warranty_status","label","Warranty Status","placeholder","Select Warranty Status",3,"formGroup","options"],["controlName","trouble_reported","label","Trouble Reported","placeholder","Enter Trouble Reported","type","text","autocomplete","trouble_reported",3,"formGroup","isTextArea"],["controlName","date_received","label","Date Received","placeholder","Enter Date Received","type","date","autocomplete","date_received",3,"formGroup"],["controlName","brand_name","label","Brand Name","placeholder","Select Brand Name",3,"formGroup","options"],["controlName","service_type","label","Service Type","placeholder","Select Service Type",3,"formGroup","options"],[3,"selectedFile"],[1,"flex","justify-end","gap-2"],["actionText","Create","loadingText","Creating...",1,"primary",3,"action"],["actionText","Cancel",3,"action","buttonStyle"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),u(3,"app-form-field",3)(4,"app-form-field",4)(5,"app-form-field",5)(6,"app-form-field",6)(7,"app-form-field",7)(8,"jlc-select-field",8)(9,"app-form-field",9),r(),n(10,"div",2),u(11,"app-form-field",10)(12,"jlc-select-field",11)(13,"jlc-select-field",12),n(14,"jlc-image-upload",13),m("selectedFile",function(S){return a.onFileSelected(S)}),r()()(),n(15,"div",14)(16,"app-button",15),m("action",function(){return a.onSubmit()}),r(),n(17,"app-button",16),m("action",function(){return a.closeModal()}),r()()()),e&2&&(o(3),l("formGroup",a.createJobReq),o(),l("formGroup",a.createJobReq),o(),l("formGroup",a.createJobReq),o(),l("formGroup",a.createJobReq),o(),l("formGroup",a.createJobReq),o(),l("formGroup",a.createJobReq)("options",a.warrantyOptions),o(),l("formGroup",a.createJobReq)("isTextArea",!0),o(2),l("formGroup",a.createJobReq),o(),l("formGroup",a.createJobReq)("options",a.brandOptions),o(),l("formGroup",a.createJobReq)("options",a.serviceType),o(4),l("buttonStyle","danger"))},dependencies:[b,V,y,H,q,U,A,Q],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return t})();var te=(()=>{class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["jlc-customer-create-job"]],standalone:!0,features:[d],decls:2,vars:0,template:function(e,a){e&1&&(n(0,"p"),C(1,"customer-create-job works!"),r())},dependencies:[b],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return t})();var ie=["jobCreateDialog"];function oe(t,k){t&1&&(n(0,"div",1),u(1,"app-loading"),r())}function le(t,k){if(t&1){let i=J();n(0,"jlc-create-job",6),m("close",function(){N(i),f();let a=j(4);return T(a.close())}),r()}}function ne(t,k){t&1&&u(0,"jlc-customer-create-job")}function re(t,k){if(t&1){let i=J();n(0,"div",2)(1,"app-button",3),m("action",function(){N(i);let a=f();return T(a.openDialog())}),r()(),u(2,"app-table",4),n(3,"dialog",5,0),w(5,le,1,0,"jlc-create-job")(6,ne,1,0,"jlc-customer-create-job"),r()}if(t&2){let i=f();o(),l("icon",i.addIcon),o(),l("data$",i.data)("columns",i.tableColumns)("searchKey$",i.searchKey$),o(3),x(i.accountType!=="customer"?5:6)}}var la=(()=>{class t{jobCreateDialog;addIcon="icons/heroicons/outline/folder-plus.svg";loading;auth=s(g);accountType=this.auth.userInfo.user_role.name;data;searchKey=new I;searchKey$=this.searchKey.valueChanges;tableColumns=[{name:"ID No.",tableBodyType:"text",tableHeaderType:"text",key:"id",class:"w-1/3"},{name:"Name",tableBodyType:"text",tableHeaderType:"text",key:"name",class:"w-1/3"},{name:"Skills",tableBodyType:"text",tableHeaderType:"text",key:"skills",class:"w-1/3"},{name:"Location",tableBodyType:"text",tableHeaderType:"text",key:"location",class:"w-1/3"},{name:"Availability",tableBodyType:"text",tableHeaderType:"text",key:"availability",class:"w-1/3"}];ngOnInit(){this.data=D(X)}openDialog(){this.jobCreateDialog.nativeElement.showModal()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-job-order"]],viewQuery:function(e,a){if(e&1&&P(ie,5),e&2){let c;E(c=L())&&(a.jobCreateDialog=c.first)}},standalone:!0,features:[d],decls:2,vars:1,consts:[["jobCreateDialog",""],[1,"h-[90vh]","flex","justify-center","items-center"],[1,"flex"],["actionText","Create Request","buttonStyle","primary",3,"action","icon"],[3,"data$","columns","searchKey$"],[1,"w-1/2"],[3,"close"]],template:function(e,a){e&1&&w(0,oe,2,0,"div",1)(1,re,7,5),e&2&&x(a.loading?0:1)},dependencies:[b,B,y,A,K,ae,te],encapsulation:2,changeDetection:0})}return t})();export{la as JobOrderComponent};
