import{b as E}from"./chunk-6TW723BN.js";import{a as pe,b as R,c as de,d as k,e as D}from"./chunk-O6XROD4J.js";import{a as ie,b as c,c as ae,d as G,f as le,h as P,i as re,j as ne,k as ce,o as F,p as A,r as se,s as V}from"./chunk-BETNJ4IG.js";import{a as te,b as oe}from"./chunk-4U4QGEFV.js";import"./chunk-RCF4RAAF.js";import{a as ee}from"./chunk-MZ4IBQOD.js";import{$a as m,Gb as J,Ja as g,La as l,N as $,Oa as _,Ob as Z,Pb as z,T as u,Ta as r,Ua as n,Ub as S,Va as s,Wa as L,X as w,Xa as H,Za as C,_a as d,da as f,ea as v,eb as B,fb as W,gb as Y,hb as Q,ib as y,jb as X,k as K,la as N,mb as x,ob as T,ya as i}from"./chunk-DSI57U6V.js";import"./chunk-EQDQRRRY.js";var me=[{id:"1",name:"John Doe",skills:["Skill 1","Skill 2"],location:"Location 1",availability:"Available"},{id:"2",name:"Jane Doe",skills:["Skill 3","Skill 4"],location:"Location 2",availability:"Not Available"},{id:"3",name:"John Smith",skills:["Skill 5","Skill 6"],location:"Location 3",availability:"Available"},{id:"4",name:"Jane Smith",skills:["Skill 7","Skill 8"],location:"Location 4",availability:"Not Available"},{id:"5",name:"John Doe",skills:["Skill 9","Skill 10"],location:"Location 5",availability:"Available"},{id:"6",name:"Jane Doe",skills:["Skill 11","Skill 12"],location:"Location 6",availability:"Not Available"},{id:"tech1",name:"John Doe",skills:["Electrical"],location:"New York, NY",availability:"Available"},{id:"tech2",name:"Jane Smith",skills:["Plumbing"],location:"Los Angeles, CA",availability:"Not Available"},{id:"tech3",name:"Michael Johnson",skills:["Carpentry"],location:"Chicago, IL",availability:"Available"},{id:"tech4",name:"Emily Davis",skills:["HVAC"],location:"Houston, TX",availability:"Not Available"},{id:"tech5",name:"James Brown",skills:["Painting"],location:"Phoenix, AZ",availability:"Available"},{id:"tech6",name:"Patricia Taylor",skills:["Welding"],location:"Miami, FL",availability:"Not Available"},{id:"tech7",name:"Robert Miller",skills:["Electrical","Plumbing"],location:"New York, NY",availability:"Available"},{id:"tech8",name:"Linda Wilson",skills:["Carpentry"],location:"Los Angeles, CA",availability:"Not Available"},{id:"tech9",name:"David Moore",skills:["HVAC","Painting"],location:"Chicago, IL",availability:"Available"},{id:"tech10",name:"Barbara Clark",skills:["Welding"],location:"Houston, TX",availability:"Not Available"},{id:"tech11",name:"Richard Lewis",skills:["Electrical"],location:"Phoenix, AZ",availability:"Available"},{id:"tech12",name:"Susan Walker",skills:["Plumbing"],location:"Miami, FL",availability:"Not Available"},{id:"tech13",name:"Joseph Hall",skills:["Carpentry"],location:"New York, NY",availability:"Available"},{id:"tech14",name:"Sarah Allen",skills:["HVAC"],location:"Los Angeles, CA",availability:"Not Available"},{id:"tech15",name:"Charles Young",skills:["Painting"],location:"Chicago, IL",availability:"Available"},{id:"tech16",name:"Karen Hernandez",skills:["Welding"],location:"Houston, TX",availability:"Not Available"},{id:"tech17",name:"Daniel King",skills:["Electrical","Plumbing"],location:"Phoenix, AZ",availability:"Available"},{id:"tech18",name:"Nancy Wright",skills:["Carpentry"],location:"Miami, FL",availability:"Not Available"},{id:"tech19",name:"Matthew Lopez",skills:["HVAC","Painting"],location:"New York, NY",availability:"Available"},{id:"tech20",name:"Betty Hill",skills:["Welding"],location:"Los Angeles, CA",availability:"Not Available"},{id:"tech21",name:"Anthony Scott",skills:["Electrical"],location:"Chicago, IL",availability:"Available"},{id:"tech22",name:"Sandra Green",skills:["Plumbing"],location:"Houston, TX",availability:"Not Available"},{id:"tech23",name:"Mark Adams",skills:["Carpentry"],location:"Phoenix, AZ",availability:"Available"},{id:"tech24",name:"Donna Baker",skills:["HVAC"],location:"Miami, FL",availability:"Not Available"},{id:"tech25",name:"Paul Gonzalez",skills:["Painting"],location:"New York, NY",availability:"Available"},{id:"tech26",name:"Carol Nelson",skills:["Welding"],location:"Los Angeles, CA",availability:"Not Available"},{id:"tech27",name:"Steven Carter",skills:["Electrical","Plumbing"],location:"Chicago, IL",availability:"Available"},{id:"tech28",name:"Ruth Mitchell",skills:["Carpentry"],location:"Houston, TX",availability:"Not Available"},{id:"tech29",name:"Andrew Perez",skills:["HVAC","Painting"],location:"Phoenix, AZ",availability:"Available"},{id:"tech30",name:"Sharon Roberts",skills:["Welding"],location:"Miami, FL",availability:"Not Available"},{id:"tech31",name:"Kenneth Turner",skills:["Electrical"],location:"New York, NY",availability:"Available"},{id:"tech32",name:"Dorothy Phillips",skills:["Plumbing"],location:"Los Angeles, CA",availability:"Not Available"},{id:"tech33",name:"Joshua Campbell",skills:["Carpentry"],location:"Chicago, IL",availability:"Available"},{id:"tech34",name:"Deborah Parker",skills:["HVAC"],location:"Houston, TX",availability:"Not Available"},{id:"tech35",name:"Kevin Evans",skills:["Painting"],location:"Phoenix, AZ",availability:"Available"},{id:"tech36",name:"Jennifer Edwards",skills:["Welding"],location:"Miami, FL",availability:"Not Available"},{id:"tech37",name:"Brian Collins",skills:["Electrical","Plumbing"],location:"New York, NY",availability:"Available"},{id:"tech38",name:"Maria Stewart",skills:["Carpentry"],location:"Los Angeles, CA",availability:"Not Available"},{id:"tech39",name:"George Sanchez",skills:["HVAC","Painting"],location:"Chicago, IL",availability:"Available"},{id:"tech40",name:"Laura Morris",skills:["Welding"],location:"Houston, TX",availability:"Not Available"},{id:"tech41",name:"Edward Rogers",skills:["Electrical"],location:"Phoenix, AZ",availability:"Available"},{id:"tech42",name:"Melissa Reed",skills:["Plumbing"],location:"Miami, FL",availability:"Not Available"},{id:"tech43",name:"Ronald Cook",skills:["Carpentry"],location:"New York, NY",availability:"Available"},{id:"tech44",name:"Ashley Morgan",skills:["HVAC"],location:"Los Angeles, CA",availability:"Not Available"},{id:"tech45",name:"Gary Bell",skills:["Painting"],location:"Chicago, IL",availability:"Available"},{id:"tech46",name:"Kimberly Murphy",skills:["Welding"],location:"Houston, TX",availability:"Not Available"},{id:"tech47",name:"Jeffrey Bailey",skills:["Electrical","Plumbing"],location:"Phoenix, AZ",availability:"Available"},{id:"tech48",name:"Amy Rivera",skills:["Carpentry"],location:"Miami, FL",availability:"Not Available"},{id:"tech49",name:"Scott Cooper",skills:["HVAC","Painting"],location:"New York, NY",availability:"Available"},{id:"tech50",name:"Cynthia Richardson",skills:["Welding"],location:"Los Angeles, CA",availability:"Not Available"}];var q=[{value:"in_warranty",label:"In Warranty"},{value:"out_of_warranty",label:"Out of Warranty"}];var O=[{value:"LG",label:"LG"},{value:"Panasonic",label:"Panasonic"},{value:"MiDea",label:"MiDea"},{value:"Samsung",label:"Samsung"},{value:"Haier",label:"Haier"}];var M=[{value:"Shop Repair",label:"Shop Repair"},{value:"Home Service",label:"Home Service"},{value:"Pull Out",label:"Pull Out"}];var ue=(()=>{class a{selectedFile=new N;label="Upload";accept="/*";formGroup;controlName;imageUrl=null;get formControl(){return this.formGroup.get(this.controlName)}onFileSelected(t){let o=t.target;if(o.files&&o.files[0]){let e=o.files[0],p=new FileReader;p.onload=()=>{this.imageUrl=p.result,this.selectedFile.emit(e)},p.readAsDataURL(e)}}static \u0275fac=function(o){return new(o||a)};static \u0275cmp=w({type:a,selectors:[["jlc-image-upload"]],inputs:{label:"label",accept:"accept",formGroup:"formGroup",controlName:"controlName"},outputs:{selectedFile:"selectedFile"},standalone:!0,features:[x],decls:4,vars:2,consts:[[1,"flex","flex-col","mt-2","mb-2"],[1,"block","text-xxs","font-medium","text-gray-600","mb-1"],["type","file",1,"block","w-full","rounded-lg","py-[10px]","px-3","font-normal","text-xs","bg-white","text-gray-600","outline-none","border","border-solid","border-gray-300","focus:border-gray-500","focus-visible:border-gray-500","hover:border-gray-500",3,"change","accept"]],template:function(o,e){o&1&&(r(0,"div",0)(1,"label",1),y(2),n(),r(3,"input",2),d("change",function(b){return e.onFileSelected(b)}),n()()),o&2&&(i(2),X(e.label),i(),l("accept",e.accept))},dependencies:[S,A],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return a})();var be=(()=>{class a{url=te.apiUrl;http=u(ee);createJobOrder(t){return this.http.post(`${this.url}/job-order`,t,{observe:"response"})}static \u0275fac=function(o){return new(o||a)};static \u0275prov=$({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var j=[{value:"Lipa",label:"Lipa"},{value:"Batangas",label:"Batangas"},{value:"Nasugbu",label:"Nasugbu"},{value:"San Juan",label:"San Juan"},{value:"Mabini",label:"Mabini"},{value:"Santo Tomas",label:"Santo Tomas"}];function he(a,h){if(a&1&&s(0,"jlc-select-field",5),a&2){let t=m(2);l("formGroup",t.createJobReq)("options",t.userS.customers())}}function ge(a,h){if(a&1&&g(0,he,1,2,"jlc-select-field",5),a&2){let t=m();_(t.accountType!=="customer"?0:-1)}}function _e(a,h){if(a&1){let t=C();r(0,"div",6),s(1,"app-form-field",7)(2,"jlc-select-field",8)(3,"app-form-field",9)(4,"app-form-field",10)(5,"app-form-field",11)(6,"jlc-select-field",12)(7,"app-form-field",13),n(),r(8,"div",6),s(9,"app-form-field",14)(10,"jlc-select-field",15)(11,"jlc-select-field",16),r(12,"jlc-image-upload",17),d("selectedFile",function(e){f(t);let p=m();return v(p.onFileSelected(e))}),n()()}if(a&2){let t=m();i(),l("formGroup",t.createJobReq),i(),l("formGroup",t.createJobReq)("options",t.locations),i(),l("formGroup",t.createJobReq),i(),l("formGroup",t.createJobReq),i(),l("formGroup",t.createJobReq),i(),l("formGroup",t.createJobReq)("options",t.warrantyOptions),i(),l("formGroup",t.createJobReq)("isTextArea",!0),i(2),l("formGroup",t.createJobReq),i(),l("formGroup",t.createJobReq)("options",t.brandOptions),i(),l("formGroup",t.createJobReq)("options",t.serviceType)}}function Ce(a,h){if(a&1){let t=C();r(0,"app-button",18),d("action",function(){f(t);let e=m();return v(e.next())}),n()}}function we(a,h){if(a&1){let t=C();r(0,"app-button",19),d("action",function(){f(t);let e=m();return v(e.prev())}),n(),r(1,"app-button",20),d("action",function(){f(t);let e=m();return v(e.onSubmit())}),n()}if(a&2){let t=m();i(),l("disabled",!t.createJobReq.valid)}}var fe=(()=>{class a{close=new N;createJobReq;warrantyOptions=q;brandOptions=O;serviceType=M;selectedFile;customers;accountType;steps=1;locations=j;constructor(){this.accountType=this.auth.userInfo.user_role.name,this.accountType!=="customer"?(this.steps=1,this.userS.getAllCustomers()):this.steps=2,J(()=>{this.customers=this.userS.customers()})}loading=!0;fb=u(F);jobOrderService=u(be);auth=u(E);userS=u(R);Alert=u(oe);ngOnInit(){this.initiateForm()}next(){this.createJobReq.controls.customer_id.value===""?this.createJobReq.controls.customer_id.setErrors({required:!0}):(this.steps++,console.log(this.steps))}prev(){this.steps--}initiateForm(){this.createJobReq=this.fb.group({name:[""],address:["",c.required],email:["",c.email],mobile_number:["",c.required,c.pattern("^[0-9]*$")],date_purchased:["",c.required],warranty_status:["",c.required],trouble_reported:[""],date_received:["",c.required],brand_name:["",c.required],service_type:["",c.required],upload_proof:[""],customer_id:[""]})}onFileSelected(t){this.selectedFile=t}onSubmit(){if(this.createJobReq.invalid){this.createJobReq.markAllAsTouched();return}let t=new FormData;Object.keys(this.createJobReq.controls).forEach(o=>{let e=this.createJobReq.get(o)?.value;o==="upload_proof"?t.append(o,this.selectedFile):t.append(o,e),console.log(t)}),this.jobOrderService.createJobOrder(t).subscribe({next:o=>{this.closeModal(),this.Alert.handleSuccess("Job Order Created Successfully")},error:o=>{this.Alert.handleError(o.message)}})}closeModal(){this.createJobReq.reset(),this.close.emit()}static \u0275fac=function(o){return new(o||a)};static \u0275cmp=w({type:a,selectors:[["jlc-create-job"]],outputs:{close:"close"},standalone:!0,features:[x],decls:8,vars:5,consts:[[1,"flex","p-4","w-full","gap-2","flex-col"],[1,"flex","gap-2"],[1,"flex","justify-end","gap-2"],["actionText","Next",1,"primary"],["actionText","Cancel",3,"action","buttonStyle"],["controlName","customer_id","label","Customer","placeholder","Select Customer",3,"formGroup","options"],[1,"w-1/2","flex","flex-col"],["controlName","name","label","Name","placeholder","Enter Name","type","text","autocomplete","name",3,"formGroup"],["controlName","address","label","Address","placeholder","Select Address",3,"formGroup","options"],["controlName","email","label","Email","placeholder","Enter Email","type","email","autocomplete","email",3,"formGroup"],["controlName","mobile_number","label","Mobile Number","placeholder","Enter Mobile Number","type","text","autocomplete","mobile_number",3,"formGroup"],["controlName","date_purchased","label","Date Purchased","placeholder","Enter Date Purchased","type","date","autocomplete","date_purchased",3,"formGroup"],["controlName","warranty_status","label","Warranty Status","placeholder","Select Warranty Status",3,"formGroup","options"],["controlName","trouble_reported","label","Trouble Reported","placeholder","Enter Trouble Reported","type","text","autocomplete","trouble_reported",3,"formGroup","isTextArea"],["controlName","date_received","label","Date Received","placeholder","Enter Date Received","type","date","autocomplete","date_received",3,"formGroup"],["controlName","brand_name","label","Brand Name","placeholder","Select Brand Name",3,"formGroup","options"],["controlName","service_type","label","Service Type","placeholder","Select Service Type",3,"formGroup","options"],[3,"selectedFile"],["actionText","Next",1,"primary",3,"action"],["actionText","Back",1,"primary",3,"action"],["actionText","Create","loadingText","Creating...",1,"primary",3,"action","disabled"]],template:function(o,e){o&1&&(r(0,"div",0)(1,"div",1),g(2,ge,1,1)(3,_e,13,15),n(),r(4,"div",2),g(5,Ce,1,0,"app-button",3)(6,we,2,1),r(7,"app-button",4),d("action",function(){return e.closeModal()}),n()()()),o&2&&(i(2),_(e.steps===1?2:-1),i(),_(e.steps===2?3:-1),i(2),_(e.steps===1?5:-1),i(),_(e.steps===2?6:-1),i(),l("buttonStyle","danger"))},dependencies:[S,V,A,G,P,D,k,ue],encapsulation:2,changeDetection:0})}return a})();var U=a=>({"!border-red-500":a});function xe(a,h){if(a&1){let t=C();L(0,54),r(1,"div",55)(2,"div",56),s(3,"input",57),n(),r(4,"div",56),s(5,"input",58),n(),r(6,"div",56),s(7,"input",59),n(),r(8,"div",48)(9,"button",60),d("click",function(){let e=f(t).index,p=m();return v(p.removeProduct(e))}),y(10," Remove "),n()()(),H()}if(a&2){let t,o,e,p=h.index,b=m();l("formGroupName",p),i(3),l("ngClass",T(4,U,((t=b.billsProduct.get("productName"))==null?null:t.value.invalid)&&(((t=b.billsProduct.get("productName"))==null||t.value==null?null:t.value.dirty)||((t=b.billsProduct.get("productName"))==null?null:t.value.touched)))),i(2),l("ngClass",T(6,U,((o=b.billsProduct.get("productQuantity"))==null?null:o.value.invalid)&&(((o=b.billsProduct.get("productQuantity"))==null||o.value==null?null:o.value.dirty)||((o=b.billsProduct.get("productQuantity"))==null?null:o.value.touched)))),i(2),l("ngClass",T(8,U,((e=b.billsProduct.get("productPrice"))==null?null:e.value.invalid)&&(((e=b.billsProduct.get("productPrice"))==null||e.value==null?null:e.value.dirty)||((e=b.billsProduct.get("productPrice"))==null?null:e.value.touched))))}}var ve=(()=>{class a{close=new N;techInfo;createJobReq;billInfo;warrantyOptions=q;brandOptions=O;serviceType=M;selectedFile;customers;accountType;steps=1;locations=j;iconS=u(se);fb=u(F);userS=u(R);constructor(){this.userS.getAllTechnicians(),J(()=>{this.customers=this.userS.customers()})}ngOnInit(){this.initiateForm(),this.techInfoForm(),this.techInfo.get("billsProduct")?.valueChanges.subscribe(()=>{this.updateGrandTotal()})}onClose(){this.close.emit()}initiateForm(){this.createJobReq=this.fb.group({name:[""],address:["",c.required],email:["",c.email],mobile_number:["",c.required,c.pattern("^[0-9]*$")],date_purchased:["",c.required],warranty_status:["",c.required],trouble_reported:[""],date_received:["",c.required],brand_name:["",c.required],service_type:["",c.required],upload_proof:[""],customer_id:[""]})}techInfoForm(){this.techInfo=this.fb.group({accessories:[""],troublesFound:[""],frontView:[""],topView:[""],backView:[""],bottomView:[""],leftView:[""],rightView:[""],billsProduct:this.fb.array([]),grandTotal:[""],memo:[""]})}removeProduct(t){this.billsProduct.removeAt(t),this.updateGrandTotal()}updateGrandTotal(){let t=this.billsProduct.controls.reduce((o,e)=>{let p=e.get("productQuantity")?.value||0,b=e.get("productPrice")?.value||0;return o+p*b},0);this.techInfo.get("grandTotal")?.setValue(t)}get billsProduct(){return this.techInfo.get("billsProduct")}addBillProduct(){let t=this.fb.group({productName:["",c.required],productQuantity:[1,[c.required,c.min(1)]],productPrice:[0,[c.required,c.min(.01)]]});this.billsProduct.push(t)}createProduct(){return this.fb.group({productName:["",c.required],productQuantity:["",[c.required,c.min(1)]],productPrice:["",[c.required,c.min(.01)]]})}static \u0275fac=function(o){return new(o||a)};static \u0275cmp=w({type:a,selectors:[["jlc-view-job-order"]],outputs:{close:"close"},standalone:!0,features:[x],decls:64,vars:34,consts:[[1,"flex","justify-between","p-4"],[1,"flex","flex-row"],[1,"text-2xl","font-bold"],[1,"flex","flex-row","items-center"],["actionText","Close","buttonStyle","primary",3,"action","icon"],[1,"flex","flex-row","flex-wrap","px-4","pb-4"],["id","tab-one","type","radio","name","tabs","checked","",1,"peer/tab-one","opacity-0","absolute"],["for","tab-one",1,"bg-slate-300","hover:bg-slate-200","peer-checked/tab-one:bg-green-200","cursor-default","p-4","rounded-t-lg","block"],["id","tab-two","type","radio","name","tabs",1,"peer/tab-two","opacity-0","absolute"],["for","tab-two",1,"bg-slate-300","hover:bg-slate-200","peer-checked/tab-two:bg-green-200","cursor-default","p-4","rounded-t-lg","block"],["id","tab-three","type","radio","name","tabs",1,"peer/tab-three","opacity-0","absolute"],["for","tab-three",1,"bg-slate-300","hover:bg-slate-200","peer-checked/tab-three:bg-green-200","cursor-default","p-4","rounded-t-lg","block"],["id","tab-four","type","radio","name","tabs",1,"peer/tab-four","opacity-0","absolute"],["for","tab-four",1,"bg-slate-300","hover:bg-slate-200","peer-checked/tab-four:bg-green-200","cursor-default","p-4","rounded-t-lg","block"],[1,"bg-green-200","hidden","peer-checked/tab-one:block","p-4","w-full"],[1,"flex","w-full","gap-2","lg:flex-nowrap","md:flex-nowrap","sm:flex-wrap"],[1,"lg:w-1/2","sm:w-full","md:w-1/2","flex","flex-col"],["controlName","name","label","Name","placeholder","Enter Name","type","text","autocomplete","name",3,"formGroup"],["controlName","address","label","Address","placeholder","Select Address",3,"formGroup","options"],["controlName","email","label","Email","placeholder","Enter Email","type","email","autocomplete","email",3,"formGroup"],["controlName","mobile_number","label","Mobile Number","placeholder","Enter Mobile Number","type","text","autocomplete","mobile_number",3,"formGroup"],["controlName","date_purchased","label","Date Purchased","placeholder","Enter Date Purchased","type","date","autocomplete","date_purchased",3,"formGroup"],["controlName","warranty_status","label","Warranty Status","placeholder","Select Warranty Status",3,"formGroup","options"],["controlName","trouble_reported","label","Trouble Reported","placeholder","Enter Trouble Reported","type","text","autocomplete","trouble_reported",3,"formGroup","isTextArea"],["controlName","date_received","label","Date Received","placeholder","Enter Date Received","type","date","autocomplete","date_received",3,"formGroup"],["controlName","brand_name","label","Brand Name","placeholder","Select Brand Name",3,"formGroup","options"],["controlName","service_type","label","Service Type","placeholder","Select Service Type",3,"formGroup","options"],[1,"bg-green-200","hidden","peer-checked/tab-two:block","p-4","w-full"],[1,"flex","w-full","gap-2","flex-wrap"],[1,"lg:w-1/2","sm:w-full","flex","flex-col"],["controlName","accessories","label","Accessories","placeholder","Enter Accessories","type","text","autocomplete","accessories",3,"formGroup"],["controlName","trouble_reported","label","Trouble Reported","placeholder","Enter Trouble Reported","type","text","autocomplete","trouble_reported",3,"formGroup"],[1,"lg:w-1/2","sm:w-full","flex","flex-col","flex-wrap"],["controlName","troublesFound","label","Trouble Found","placeholder","Enter Trouble Found","type","text","autocomplete","troublesFound",3,"formGroup","isTextArea"],[1,"flex","flex-wrap"],[1,"font-medium","text-base"],["controlName","frontView","label","Front View","placeholder","Enter Details","type","text","autocomplete","frontView",3,"formGroup"],["controlName","topView","label","Top View","placeholder","Enter Details","type","text","autocomplete","topView",3,"formGroup"],["controlName","backView","label","Back View","placeholder","Enter Details","type","text","autocomplete","backView",3,"formGroup"],["controlName","bottomView","label","Bottom View","placeholder","Enter Details","type","text","autocomplete","bottomView",3,"formGroup"],["controlName","leftView","label","Left View","placeholder","Enter Details","type","text","autocomplete","leftView",3,"formGroup"],["controlName","rightView","label","Right View","placeholder","Enter Details","type","text","autocomplete","rightView",3,"formGroup"],[1,"bg-green-200","hidden","peer-checked/tab-three:block","p-4","w-full"],["buttonStyle","primary","actionText","Add Product",3,"action","icon"],[1,"mt-2",3,"formGroup"],["formArrayName","billsProduct"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"flex","justify-end"],[1,"w-1/6"],["controlName","grandTotal","label","Grand Total","type","text","autocomplete","grandTotal",3,"formGroup"],[1,"bg-green-200","hidden","peer-checked/tab-four:block","p-4","w-full"],[1,"flex","flex-col"],["controlName","customer_id","label","Customer","placeholder","Select Customer",3,"formGroup","options"],["controlName","memo","label","Memo","placeholder","Enter Memo","type","text","autocomplete","memo",3,"formGroup","isTextArea"],[3,"formGroupName"],[1,"flex","gap-1","mt-1","flex-wrap"],[1,"w-2/6"],["formControlName","productName","id","productName","placeholder","Enter Product Name","autocomplete","productName",1,"block","w-full","rounded-lg","py-[10px]","px-3","font-normal","text-xs","bg-white","disabled:text-gray-300","disabled:bg-opacity-60","text-gray-600","outline-none","border","border-solid","border-gray-300","focus:border-gray-500","focus-visible:border-gray-500","hover:border-gray-500","disabled:border-gray-300",3,"ngClass"],["formControlName","productQuantity","id","productQuantity","placeholder","Enter Product Quantity","autocomplete","productQuantity",1,"block","w-full","rounded-lg","py-[10px]","px-3","font-normal","text-xs","bg-white","disabled:text-gray-300","disabled:bg-opacity-60","text-gray-600","outline-none","border","border-solid","border-gray-300","focus:border-gray-500","focus-visible:border-gray-500","hover:border-gray-500","disabled:border-gray-300",3,"ngClass"],["formControlName","productPrice","id","productPrice","placeholder","Enter Product Quantity","autocomplete","productPrice",1,"block","w-full","rounded-lg","py-[10px]","px-3","font-normal","text-xs","bg-white","disabled:text-gray-300","disabled:bg-opacity-60","text-gray-600","outline-none","border","border-solid","border-gray-300","focus:border-gray-500","focus-visible:border-gray-500","hover:border-gray-500","disabled:border-gray-300",3,"ngClass"],[1,"bg-red-500","text-white","px-4","py-2","rounded-lg",3,"click"]],template:function(o,e){o&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),y(3,"Job Order"),n()(),r(4,"div",3)(5,"app-button",4),d("action",function(){return e.onClose()}),n()()(),r(6,"section",5),s(7,"input",6),r(8,"label",7),y(9," Customer Info "),n(),s(10,"input",8),r(11,"label",9),y(12," Trouble Info "),n(),s(13,"input",10),r(14,"label",11),y(15," Billing & Parts Replacement Details "),n(),s(16,"input",12),r(17,"label",13),y(18," Technician "),n(),r(19,"div",14)(20,"div",15)(21,"div",16),s(22,"app-form-field",17)(23,"jlc-select-field",18)(24,"app-form-field",19)(25,"app-form-field",20)(26,"app-form-field",21)(27,"jlc-select-field",22)(28,"app-form-field",23),n(),r(29,"div",16),s(30,"app-form-field",24)(31,"jlc-select-field",25)(32,"jlc-select-field",26),n()()(),r(33,"div",27)(34,"div",28)(35,"div",29),s(36,"app-form-field",30)(37,"app-form-field",31),n(),r(38,"div",32),s(39,"app-form-field",33),n()(),r(40,"div",34)(41,"p",35),y(42," Physical Condition (Specify any particular scratches, marks, or damages) "),n()(),r(43,"div",28)(44,"div",32),s(45,"app-form-field",36)(46,"app-form-field",37)(47,"app-form-field",38),n(),r(48,"div",32),s(49,"app-form-field",39)(50,"app-form-field",40)(51,"app-form-field",41),n()()(),r(52,"div",42)(53,"app-button",43),d("action",function(){return e.addBillProduct()}),n(),r(54,"div",44),L(55,45),g(56,xe,11,10,"ng-container",46),H(),r(57,"div",47)(58,"div",48),s(59,"app-form-field",49),n()()()(),r(60,"div",50)(61,"div",51),s(62,"jlc-select-field",52)(63,"app-form-field",53),n()()()),o&2&&(i(5),l("icon",e.iconS.getIcon("close")),i(17),l("formGroup",e.createJobReq),i(),l("formGroup",e.createJobReq)("options",e.locations),i(),l("formGroup",e.createJobReq),i(),l("formGroup",e.createJobReq),i(),l("formGroup",e.createJobReq),i(),l("formGroup",e.createJobReq)("options",e.warrantyOptions),i(),l("formGroup",e.createJobReq)("isTextArea",!0),i(2),l("formGroup",e.createJobReq),i(),l("formGroup",e.createJobReq)("options",e.brandOptions),i(),l("formGroup",e.createJobReq)("options",e.serviceType),i(4),l("formGroup",e.techInfo),i(),l("formGroup",e.createJobReq),i(2),l("formGroup",e.techInfo)("isTextArea",!0),i(6),l("formGroup",e.techInfo),i(),l("formGroup",e.techInfo),i(),l("formGroup",e.techInfo),i(2),l("formGroup",e.techInfo),i(),l("formGroup",e.techInfo),i(),l("formGroup",e.techInfo),i(2),l("icon",e.iconS.getIcon("plus")),i(),l("formGroup",e.techInfo),i(2),l("ngForOf",e.billsProduct.controls),i(3),l("formGroup",e.techInfo),i(3),l("formGroup",e.createJobReq)("options",e.userS.technicians()),i(),l("formGroup",e.techInfo)("isTextArea",!0))},dependencies:[S,Z,z,k,D,V,A,ie,ae,G,P,ce,re,ne],encapsulation:2,changeDetection:0})}return a})();var Se=["jobCreateDialog"],Ae=["viewJobOrder"];function Ne(a,h){a&1&&(r(0,"div",2),s(1,"app-loading"),n())}function ke(a,h){if(a&1){let t=C();r(0,"jlc-create-job",8),d("close",function(){f(t),m();let e=Q(4);return v(e.close())}),n()}}function Te(a,h){if(a&1){let t=C();r(0,"div",3)(1,"app-button",4),d("action",function(){f(t);let e=m();return v(e.openDialog())}),n()(),r(2,"app-table",5),d("data",function(){f(t);let e=m();return v(e.openViewDialog())}),n(),r(3,"dialog",6,0),g(5,ke,1,0,"jlc-create-job"),n(),r(6,"dialog",7,1)(8,"jlc-view-job-order",8),d("close",function(){f(t);let e=Q(7);return v(e.close())}),n()()}if(a&2){let t=m();i(),l("icon",t.addIcon),i(),l("data$",t.data)("columns",t.tableColumns)("searchKey$",t.searchKey$),i(3),_(t.accountType!=="customer"?5:-1)}}var Wt=(()=>{class a{jobCreateDialog;viewJobOrder;addIcon="icons/heroicons/outline/folder-plus.svg";loading;auth=u(E);accountType=this.auth.userInfo.user_role.name;data;searchKey=new le;searchKey$=this.searchKey.valueChanges;tableColumns=[{name:"ID No.",tableBodyType:"text",tableHeaderType:"text",key:"id",class:"w-1/3"},{name:"Name",tableBodyType:"text",tableHeaderType:"text",key:"name",class:"w-1/3"},{name:"Skills",tableBodyType:"text",tableHeaderType:"text",key:"skills",class:"w-1/3"},{name:"Location",tableBodyType:"text",tableHeaderType:"text",key:"location",class:"w-1/3"},{name:"Availability",tableBodyType:"text",tableHeaderType:"text",key:"availability",class:"w-1/3"}];ngOnInit(){this.data=K(me)}openDialog(){this.jobCreateDialog.nativeElement.showModal()}openViewDialog(){this.viewJobOrder.nativeElement.showModal()}static \u0275fac=function(o){return new(o||a)};static \u0275cmp=w({type:a,selectors:[["app-job-order"]],viewQuery:function(o,e){if(o&1&&(B(Se,5),B(Ae,5)),o&2){let p;W(p=Y())&&(e.jobCreateDialog=p.first),W(p=Y())&&(e.viewJobOrder=p.first)}},standalone:!0,features:[x],decls:2,vars:1,consts:[["jobCreateDialog",""],["viewJobOrder",""],[1,"h-[90vh]","flex","justify-center","items-center"],[1,"flex"],["actionText","Create Request","buttonStyle","primary",3,"action","icon"],[3,"data","data$","columns","searchKey$"],[1,"w-1/2","rounded-lg"],[1,"lg:w-1/2","rounded-lg","sm:w-[90%]"],[3,"close"]],template:function(o,e){o&1&&g(0,Ne,2,0,"div",2)(1,Te,9,5),o&2&&_(e.loading?0:1)},dependencies:[S,pe,A,k,de,fe,ve],encapsulation:2,changeDetection:0})}return a})();export{Wt as JobOrderComponent};
