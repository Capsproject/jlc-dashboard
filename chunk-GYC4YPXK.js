import{c as le,d as W,f as H,g as K,h as Q}from"./chunk-WXI33M2S.js";import{b as Y}from"./chunk-GZAHCXZ7.js";import{a as h,c as M}from"./chunk-YK5KEETG.js";import{f as se,i as J,j as U,k as ae}from"./chunk-Y4WQNBZL.js";import{Fa as j,Ka as _,Ma as a,Nb as O,O as ie,Ob as B,Pb as N,Qa as A,Rb as $,Sa as P,Ta as V,Tb as b,U as d,Ua as o,Va as i,Wa as c,Xa as R,Y as g,Ya as w,Za as p,_ as oe,_a as f,a as ee,bb as k,ea as y,fa as S,gb as F,hb as m,jb as C,lb as v,ma as re,nb as T,ob as L,rb as D,v as te,w as ne,za as s}from"./chunk-O6BTFPW4.js";import{a as Z,b as G}from"./chunk-EQDQRRRY.js";var ce=(()=>{class t{static pages=[{group:"Owner",separator:!0,roles:["owner"],items:[{icon:"icons/heroicons/outline/calendar.svg",label:"Show Calendar",route:"/owner/calendar"},{icon:"icons/heroicons/outline/cog.svg",label:"Schedule Job Orders",route:"/owner/job-orders"},{icon:"icons/heroicons/outline/list.svg",label:"Technician List",route:"/owner/users?accountType=technician"}]},{group:"Job Order",separator:!1,roles:["customer"],items:[{icon:"icons/heroicons/solid/document.svg",label:"Transactions",route:"/customer/home"}]},{group:"Admin",separator:!0,roles:["admin"],items:[{icon:"icons/heroicons/solid/document.svg",label:"Job Orders",route:"/admin/job-orders"},{icon:"icons/heroicons/outline/gift.svg",label:"Archive",route:"/gift"}]},{group:"Manage Work",separator:!1,roles:["manager"],items:[{icon:"icons/heroicons/outline/cog.svg",label:"Job Order Dashboard",route:"/settings"}]},{group:"Manage Records",separator:!0,roles:["manager"],items:[{icon:"icons/heroicons/outline/document-text.svg",label:"Customer Dashboard",route:"/records"}]},{group:"Manage Users",separator:!0,roles:["owner"],items:[{icon:"icons/heroicons/outline/users.svg",label:"Users",route:"/owner/users"}]},{group:"Analytics Dashboard",separator:!0,roles:["owner"],items:[{icon:"icons/heroicons/outline/chart-pie.svg",label:"Analytics Dashboard",route:"/owner/dashboard"}]},{group:"Tasks",separator:!0,roles:["technician"],items:[{icon:"icons/heroicons/outline/check-circle.svg",label:"Tasks",route:"/tasks"}]}]}return t})();var x=(()=>{class t{_showSidebar=j(!0);_showMobileMenu=j(!1);_pagesMenu=j([]);_subsciptions=new ee;router=d(J);constructor(){this._pagesMenu.set(ce.pages);let e=this.router.events.subscribe(n=>{n instanceof se&&this._pagesMenu().forEach(r=>{let u=!1;r.items.forEach(E=>{let q=this.isActive(E.route);E.expanded=q,E.active=q,q&&(u=!0),E.children&&this.expand(E.children)}),r.active=u})});this._subsciptions.add(e)}get showSideBar(){return this._showSidebar()}get showMobileMenu(){return this._showMobileMenu()}get pagesMenu(){return this._pagesMenu()}set showSideBar(e){this._showSidebar.set(e)}set showMobileMenu(e){this._showMobileMenu.set(e)}toggleSidebar(){this._showSidebar.set(!this._showSidebar())}toggleMenu(e){this.showSideBar=!0,e.expanded=!e.expanded}toggleSubMenu(e){e.expanded=!e.expanded}expand(e){e.forEach(n=>{n.expanded=this.isActive(n.route),n.children&&this.expand(n.children)})}isActive(e){return this.router.isActive(this.router.createUrlTree([e]),{paths:"subset",queryParams:"subset",fragment:"ignored",matrixParams:"ignored"})}ngOnDestroy(){this._subsciptions.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ge=t=>({hidden:t}),ve=t=>({item:t}),be=(t,l)=>({hidden:t,"rotate-90":l});function he(t,l){if(t&1&&(o(0,"div",13)(1,"a",14),m(2),i()()),t&2){let e=l.item;k("routerLink",e.route),s(2),C(" ",e.label," ")}}function xe(t,l){if(t&1&&(o(0,"div",15)(1,"a",16),m(2),i()()),t&2){let e=l.item;s(2),C(" ",e.label," ")}}function _e(t,l){if(t&1&&(o(0,"button",17),c(1,"svg-icon",18),i()),t&2){let e=f().$implicit,n=f(2);a("ngClass",L(2,be,!n.menuService.showSideBar,e.expanded)),s(),a("svgClass","h-5 w-5")}}function Ce(t,l){if(t&1){let e=w();o(0,"li")(1,"div",8),p("click",function(){let r=y(e).$implicit,u=f(2);return S(u.toggleMenu(r))}),o(2,"div",9),c(3,"svg-icon",10),i(),R(4,11),_(5,he,3,2,"ng-template",null,0,D)(7,xe,3,1,"ng-template",null,1,D)(9,_e,2,5,"button",12),i()()}if(t&2){let e=l.$implicit,n=F(6),r=F(8),u=f(2);s(2),a("ngClass",e.active&&!u.menuService.showSideBar?"text-primary":"text-muted-foreground/50"),s(),k("src",e.icon),a("svgClass","h-5 w-5"),s(),a("ngTemplateOutlet",e.children?r:n)("ngTemplateOutletContext",T(6,ve,e)),s(5),a("ngIf",e.children)}}function Me(t,l){t&1&&(o(0,"div",19),c(1,"hr",20),i())}function ye(t,l){if(t&1&&(o(0,"div",2)(1,"div",3)(2,"small",4),m(3),i()(),o(4,"ul",5),_(5,Ce,10,8,"li",6),i(),_(6,Me,2,0,"div",7),i()),t&2){let e=l.$implicit,n=f();s(2),a("ngClass",T(4,ge,!n.menuService.showSideBar)),s(),C(" ",e.group," "),s(2),a("ngForOf",e.items),s(),a("ngIf",e.separator)}}var me=(()=>{class t{menuService=d(x);authServices=d(Y);filteredMenu=[];toggleMenu(e){this.menuService.toggleMenu(e)}ngOnInit(){this.filterMenu()}filterMenu(){let e=this.authServices.userInfo?.user_role.name,n=this.menuService.pagesMenu;this.filteredMenu=n.filter(r=>r.roles.some(u=>e?.includes(u))).map(r=>G(Z({},r),{items:r.items.filter(u=>r.roles.some(E=>e?.includes(E)))}))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=g({type:t,selectors:[["app-sidebar-menu"]],standalone:!0,features:[v],decls:2,vars:0,consts:[["parentMenu",""],["childMenu",""],[1,"pt-4"],[1,"mx-1","mb-2","flex","items-center","justify-between"],[1,"text-xs","font-semibold","text-muted-foreground/50",3,"ngClass"],[1,"flex","flex-col","space-y-1"],[4,"ngFor","ngForOf"],["class","pt-3",4,"ngIf"],[1,"group","relative","text-muted-foreground",3,"click"],[1,"pointer-events-none","absolute","m-2",3,"ngClass"],[3,"src","svgClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","pointer-events-none absolute top-1 right-0 flex items-center p-1 text-muted-foreground/50 transition-all duration-500",3,"ngClass",4,"ngIf"],[1,"flex","h-9","cursor-pointer","items-center","justify-start","rounded","text-muted-foreground","hover:bg-card","hover:text-foreground",3,"routerLink"],["routerLinkActive","text-primary",1,"ml-10","truncate","text-xs","font-semibold","tracking-wide","focus:outline-none"],[1,"flex","h-9","cursor-pointer","items-center","justify-start","rounded","hover:bg-card"],[1,"ml-10","truncate","text-xs","font-semibold","tracking-wide","text-muted-foreground","focus:outline-none","group-hover:text-foreground"],[1,"pointer-events-none","absolute","top-1","right-0","flex","items-center","p-1","text-muted-foreground/50","transition-all","duration-500",3,"ngClass"],["src","icons/heroicons/solid/chevron-right.svg",3,"svgClass"],[1,"pt-3"],[1,"border-dashed","border-border"]],template:function(n,r){n&1&&P(0,ye,7,6,"div",2,A),n&2&&V(r.filteredMenu)},dependencies:[M,h,$,U,ae,b,O,B,N],encapsulation:2,changeDetection:0})}return t})();var Se=t=>({"rotate-180":t});function we(t,l){if(t&1){let e=w();o(0,"div",7)(1,"a",8),p("click",function(){y(e);let r=f();return S(r.toggleSidebar())}),c(2,"svg-icon",9),i(),o(3,"b",10),m(4," JLC APP "),i()()}}var ot=(()=>{class t{menuService=d(x);toggleSidebar(){this.menuService.toggleSidebar()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=g({type:t,selectors:[["app-sidebar"]],standalone:!0,features:[v],decls:8,vars:5,consts:[[1,"border-r-2","scrollbar-thumb-rounded","scrollbar-track-rounded","hidden","h-full","drop-shadow-lg","flex-col","justify-between","overflow-auto","bg-background","pt-3","transition-all","duration-300","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-card","lg:flex",3,"ngClass"],[1,"px-4"],[1,"relative","h-12"],["class","flex items-center",4,"ngIf"],[1,"absolute","top-2","right-2","flex","h-5","w-5","items-center","justify-center","rounded","text-muted-foreground/50","transition-all","duration-200","focus:outline-none","hover:text-muted-foreground",3,"click","ngClass"],["src","icons/heroicons/solid/chevron-double-left.svg"],[1,"mx-4","my-4","space-y-1"],[1,"flex","items-center"],[1,"flex","cursor-pointer","items-center","justify-center","rounded","p-2","focus:outline-none","focus:ring-1",3,"click"],["src","icons/jlc-logo.svg"],[1,"ml-1","pl-2","text-sm","font-bold","text-foreground"]],template:function(n,r){n&1&&(o(0,"nav",0)(1,"div",1)(2,"div",2),_(3,we,5,0,"div",3),o(4,"button",4),p("click",function(){return r.toggleSidebar()}),c(5,"svg-icon",5),i()(),c(6,"app-sidebar-menu"),i(),c(7,"div",6),i()),n&2&&(a("ngClass",r.menuService.showSideBar?"w-52 xl:w-64":"w-[70px]"),s(3),a("ngIf",r.menuService.showSideBar),s(),a("ngClass",T(3,Se,!r.menuService.showSideBar)))},dependencies:[b,O,N,me,h],encapsulation:2,changeDetection:0})}return t})();var ue=(()=>{class t{clickOutside=new re;documentClickSubscription;elementRef;document;ngAfterViewInit(){this.documentClickSubscription=te(this.document,"click").pipe(ne(e=>!this.isInside(e.target))).subscribe(()=>{this.clickOutside.emit()})}ngOnDestroy(){this.documentClickSubscription?.unsubscribe()}isInside(e){return e===this.elementRef.nativeElement||this.elementRef.nativeElement.contains(e)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=oe({type:t,selectors:[["","clickOutside",""]],outputs:{clickOutside:"clickOutside"},standalone:!0})}return t})();function ke(t,l){if(t&1){let e=w();o(0,"li",14),p("click",function(){let r=y(e).$implicit,u=f();return S(u.handleClickMenu(r.click))}),c(1,"svg-icon",15),m(2),i()}if(t&2){let e=l.$implicit;s(),k("src",e.icon),a("svgClass","h-5 w-5 text-muted-foreground/50"),s(),C(" ",e.title," ")}}var de=(()=>{class t{router=d(J);auth=d(Y);isOpen=!1;profileMenu=[{title:"Your Profile",icon:"./icons/heroicons/outline/user-circle.svg",click:0},{title:"Settings",icon:"./icons/heroicons/outline/cog-6-tooth.svg",click:1},{title:"Log out",icon:"./icons/heroicons/outline/logout.svg",click:2}];ngOnInit(){}toggleMenu(){this.isOpen=!this.isOpen}handleClickMenu(e){e===1?this.router.navigate(["/settings"]):e===2?this.auth.logout():e===0&&this.router.navigate(["/profile"])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=g({type:t,selectors:[["app-profile-menu"]],standalone:!0,features:[v],decls:18,vars:1,consts:[[1,"relative","ml-3"],["type","button",1,"relative","flex","rounded-full","text-sm",3,"click"],[1,"sr-only"],["clickOutside","","src","https://avatars.githubusercontent.com/u/12519008?v=4","alt","",1,"h-9","w-9","rounded-md",3,"clickOutside"],[1,"absolute","right-0","z-20","mt-2","w-60","origin-top-right","transform","rounded-md","bg-white","drop-shadow-lg","text-gray-800","py-4","shadow-custom","ring-1","ring-transparent","ring-opacity-5","transition","focus:outline-none"],[1,"flext-row","flex","items-center","px-4","pb-4"],[1,"w-10","shrink-0"],["src","https://avatars.githubusercontent.com/u/12519008?v=4","alt","",1,"rounded-md"],[1,"overflow-hidden","px-2","text-sm","font-semibold","text-foreground"],[1,"truncate","text-ellipsis","text-xs","font-semibold","text-muted-foreground"],[1,"border-b","border-dashed","border-border"],[1,"my-2","mx-4","flex","flex-col"],["key","$index",1,"inline-flex","cursor-pointer","items-center","gap-2","rounded-md","px-3","py-2","text-xs","font-semibold","text-muted-foreground","hover:bg-card","hover:text-primary"],[1,"border-dashed","border-border"],["key","$index",1,"inline-flex","cursor-pointer","items-center","gap-2","rounded-md","px-3","py-2","text-xs","font-semibold","text-muted-foreground","hover:bg-card","hover:text-primary",3,"click"],[3,"src","svgClass"]],template:function(n,r){n&1&&(o(0,"div",0)(1,"button",1),p("click",function(){return r.toggleMenu()}),o(2,"span",2),m(3,"Open user menu"),i(),o(4,"img",3),p("clickOutside",function(){return r.isOpen=!1}),i()(),o(5,"div",4)(6,"div",5)(7,"div",6),c(8,"img",7),i(),o(9,"div",8),m(10," Luciano Oliveira "),o(11,"p",9),m(12," me@lanno.dev "),i()()(),c(13,"div",10),o(14,"ul",11),P(15,ke,3,3,"li",12,A),i(),c(17,"hr",13),i()()),n&2&&(s(5),a("@openClose",r.isOpen?"open":"closed"),s(10),V(r.profileMenu))},dependencies:[b,M,h,ue],styles:["[_nghost-%COMP%]{display:block}"],data:{animation:[le("openClose",[K("open",H({opacity:1,transform:"translateY(0)",visibility:"visible"})),K("closed",H({opacity:0,transform:"translateY(-20px)",visibility:"hidden"})),Q("open => closed",[W("0.2s")]),Q("closed => open",[W("0.2s")])])]},changeDetection:0})}return t})();var Oe=t=>({item:t}),Ee=(t,l)=>({hidden:t,"rotate-90":l});function Te(t,l){if(t&1){let e=w();o(0,"div",13)(1,"a",14),p("click",function(){y(e);let r=f(3);return S(r.closeMenu())}),m(2),i()()}if(t&2){let e=l.item;k("routerLink",e.route),s(2),C(" ",e.label," ")}}function Ie(t,l){if(t&1&&(o(0,"div",15)(1,"a",16),m(2),i()()),t&2){let e=l.item;s(2),C(" ",e.label," ")}}function Fe(t,l){if(t&1&&(o(0,"button",17),c(1,"svg-icon",18),i()),t&2){let e=f().$implicit,n=f(2);a("ngClass",L(2,Ee,!n.menuService.showSideBar,e.expanded)),s(),a("svgClass","h-5 w-5")}}function De(t,l){if(t&1){let e=w();o(0,"li")(1,"div",8),p("click",function(){let r=y(e).$implicit,u=f(2);return S(u.toggleMenu(r))}),o(2,"div",9),c(3,"svg-icon",10),i(),R(4,11),_(5,Te,3,2,"ng-template",null,0,D)(7,Ie,3,1,"ng-template",null,1,D)(9,Fe,2,5,"button",12),i()()}if(t&2){let e=l.$implicit,n=F(6),r=F(8),u=f(2);s(2),a("ngClass",e.active&&!u.menuService.showSideBar?"text-primary":"text-muted-foreground/50"),s(),k("src",e.icon),a("svgClass","h-5 w-5"),s(),a("ngTemplateOutlet",e.children?r:n)("ngTemplateOutletContext",T(6,Oe,e)),s(5),a("ngIf",e.children)}}function Ne(t,l){if(t&1&&(o(0,"div",3)(1,"div",4)(2,"small",5),m(3),i()(),o(4,"ul",6),_(5,De,10,8,"li",7),i()()),t&2){let e=l.$implicit;s(3),C(" ",e.group," "),s(2),a("ngForOf",e.items)}}var pe=(()=>{class t{menuService=d(x);toggleMenu(e){this.menuService.toggleMenu(e)}closeMenu(){this.menuService.showMobileMenu=!1}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=g({type:t,selectors:[["app-navbar-mobile-menu"]],standalone:!0,features:[v],decls:1,vars:1,consts:[["parentMenu",""],["childMenu",""],["class","pt-4",4,"ngFor","ngForOf"],[1,"pt-4"],[1,"mx-1","mb-2","flex","items-center","justify-between"],[1,"text-xs","font-semibold","text-muted-foreground"],[1,"flex","flex-col","space-y-1"],[4,"ngFor","ngForOf"],[1,"group","relative","text-muted-foreground","hover:text-foreground",3,"click"],[1,"pointer-events-none","absolute","m-2",3,"ngClass"],[3,"src","svgClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","pointer-events-none absolute top-1 right-0 flex items-center p-1 text-muted-foreground/50 transition-all duration-500",3,"ngClass",4,"ngIf"],[1,"flex","h-9","cursor-pointer","items-center","justify-start","rounded","hover:bg-card",3,"routerLink"],["routerLinkActive","text-primary",1,"ml-10","truncate","text-xs","font-semibold","tracking-wide","focus:outline-none",3,"click"],[1,"flex","h-9","cursor-pointer","items-center","justify-start","rounded","hover:bg-card"],[1,"ml-10","truncate","text-xs","font-semibold","tracking-wide","focus:outline-none"],[1,"pointer-events-none","absolute","top-1","right-0","flex","items-center","p-1","text-muted-foreground/50","transition-all","duration-500",3,"ngClass"],["src","icons/heroicons/solid/chevron-right.svg",3,"svgClass"]],template:function(n,r){n&1&&_(0,Ne,6,2,"div",2),n&2&&a("ngForOf",r.menuService.pagesMenu)},dependencies:[b,O,B,N,$,M,h,U],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return t})();var fe=(()=>{class t{menuService=d(x);toggleMenu(e){this.menuService.toggleMenu(e)}toggleMobileMenu(){this.menuService.showMobileMenu=!1}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=g({type:t,selectors:[["app-navbar-mobile"]],standalone:!0,features:[v],decls:17,vars:1,consts:[[1,"absolute","inset-x-0","top-1","z-10","origin-top-right","transform","p-2","transition","md:hidden",3,"ngClass"],[1,"rounded-lg","bg-white","shadow-lg"],[1,"pt-5","pb-6"],[1,"flex","items-center","justify-between","px-5"],[1,"flex","items-center","justify-start","sm:order-2","md:mr-10","lg:hidden"],[1,"flex","items-center","justify-center","rounded","bg-primary","p-2","focus:outline-none","focus:ring-1"],["src","icons/logo.svg"],[1,"pl-3","text-sm","font-bold","text-foreground"],[1,"-mr-2"],["type","button",1,"inline-flex","items-center","justify-center","rounded-md","p-2","text-muted-foreground","transition-transform","focus:outline-none","focus:ring-2","focus:ring-inset","focus:ring-primary","hover:rotate-90","hover:bg-card","hover:text-foreground",3,"click"],[1,"sr-only"],["src","icons/heroicons/outline/x.svg"],[1,"scrollbar-thumb-rounded","scrollbar-track-rounded","max-h-[500px]","overflow-y-auto","px-5","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"]],template:function(n,r){n&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div",4)(6,"a",5),c(7,"svg-icon",6),i(),o(8,"b",7),m(9," Angular Tailwind "),i()()(),o(10,"div",8)(11,"button",9),p("click",function(){return r.toggleMobileMenu()}),o(12,"span",10),m(13,"Close menu"),i(),c(14,"svg-icon",11),i()()(),o(15,"div",12),c(16,"app-navbar-mobile-menu"),i()()()()),n&2&&a("ngClass",r.menuService.showMobileMenu?"pointer-events-auto scale-100 animate-fade-in-up opacity-100 duration-200":"pointer-events-none scale-95 opacity-0 duration-100 ease-out")},dependencies:[b,O,M,h,pe],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return t})();var Xt=(()=>{class t{menuService=d(x);toggleMobileMenu(){this.menuService.showMobileMenu=!0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=g({type:t,selectors:[["app-navbar"]],standalone:!0,features:[v],decls:16,vars:1,consts:[[1,"relative","bg-background"],[1,"mx-auto","px-5"],[1,"flex","items-center","justify-between","py-3.5","md:justify-start"],[1,"sm:order-1","md:hidden"],["type","button","aria-expanded","false",1,"inline-flex","items-center","justify-center","rounded-md","bg-muted","p-2","text-muted-foreground","focus:outline-none","focus:ring-2","focus:ring-inset","focus:ring-primary","hover:bg-muted-foreground","hover:text-muted",3,"click"],[1,"sr-only"],["src","icons/heroicons/outline/menu.svg",3,"svgClass"],[1,"flex","items-center","justify-start","sm:order-2","md:mr-10","lg:hidden"],[1,"flex","items-center","justify-center","rounded","bg-primary","p-2","focus:outline-none","focus:ring-1"],["src","icons/logo.svg"],[1,"hidden","pl-3","text-sm","font-bold","text-foreground","sm:block"],[1,"items-center","justify-end","sm:order-4","md:flex","md:flex-1","lg:w-0"]],template:function(n,r){n&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),p("click",function(){return r.toggleMobileMenu()}),o(5,"span",5),m(6,"Open menu"),i(),c(7,"svg-icon",6),i()(),o(8,"div",7)(9,"a",8),c(10,"svg-icon",9),i(),o(11,"b",10),m(12," Angular Tailwind "),i()(),o(13,"div",11),c(14,"app-profile-menu"),i()()(),c(15,"app-navbar-mobile"),i()),n&2&&(s(7),a("svgClass","h-6 w-6"))},dependencies:[b,M,h,de,fe],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return t})();export{ot as a,Xt as b};
