import{b as Q,c as X,g as Y,h as Z,i as ee,j as te,k as ne,m as ie,n as oe}from"./chunk-FGCF2NJ3.js";import{a as ae,c as j}from"./chunk-SPUI625X.js";import{a as J}from"./chunk-PMY5LYMQ.js";import{a as q}from"./chunk-EK4EW2T2.js";import{Ea as U,H as G,Ja as u,K as O,La as m,Mb as N,N as k,Na as H,Oa as d,Pa as M,Qa as K,Ra as x,Rb as W,Sa as b,Sb as C,T as E,Ta as o,Ua as a,Va as f,X as _,Xa as B,Ya as v,Za as c,ab as z,da as T,ea as S,g as I,gb as p,hb as h,ib as y,kb as g,la as D,lb as R,mb as L,o as P,ob as $,p as A,pb as w,ya as r}from"./chunk-XNIYBQ7V.js";var ce=(e,s)=>s.id,pe=e=>[e,"text-gray-800"];function me(e,s){e&1&&(o(0,"label"),f(1,"input",5),a())}function de(e,s){if(e&1&&p(0),e&2){let t=c().$implicit;y(" ",t.name," ")}}function ue(e,s){if(e&1&&(o(0,"th"),u(1,me,2,0,"label")(2,de,1,1),a()),e&2){let t=s.$implicit;H(t.class?L(3,pe,t.class):""),r(),d(t.tableHeaderType==="checkbox"?1:t.tableHeaderType==="text"?2:-1)}}function _e(e,s){if(e&1&&p(0),e&2){let t=c().$implicit,i=c().$implicit;y(" ",i[t.key]," ")}}function fe(e,s){if(e&1){let t=B();o(0,"li",6),v("click",function(){let n=T(t).$implicit,l=c(3).$implicit;return S(n.method(l))}),o(1,"a"),p(2),a()()}if(e&2){let t=s.$implicit,i=c(3).$implicit;r(2),h(t.name!=="$active"?t.name:i.active?"Deactivate":"Activate")}}function ge(e,s){if(e&1&&(o(0,"div",7)(1,"div",8),p(2," Action "),a(),o(3,"ul",9),x(4,fe,3,1,"li",null,M),a()()),e&2){let t=c().$implicit;r(4),b(t.item)}}function Ce(e,s){e&1&&(o(0,"label"),f(1,"input",5),a())}function xe(e,s){if(e&1){let t=B();o(0,"td",6),v("click",function(){T(t);let n=c().$implicit,l=c(2);return S(l.emitData(n))}),u(1,_e,1,1)(2,ge,6,0,"div",7)(3,Ce,2,0,"label"),a()}if(e&2){let t,i=s.$implicit;r(),d((t=i.tableBodyType)==="text"?1:t==="menu"?2:t==="checkbox"?3:-1)}}function be(e,s){if(e&1&&(o(0,"tr"),x(1,xe,4,1,"td",null,M),a()),e&2){let t=c(2);r(),b(t.columns)}}function ve(e,s){if(e&1){let t=B();o(0,"div")(1,"table",0)(2,"thead")(3,"tr"),x(4,ue,3,5,"th",1,M),a()(),o(6,"tbody"),x(7,be,3,0,"tr",null,ce),a()()(),o(9,"div",2)(10,"button",3),$(11,"async"),v("click",function(){T(t);let n=c();return S(n.prevPage())}),p(12," \xAB "),a(),o(13,"button",4),p(14),$(15,"async"),a(),o(16,"button",3),$(17,"async"),v("click",function(){T(t);let n=c();return S(n.nextPage())}),p(18," \xBB "),a()()}if(e&2){let t=c();r(4),b(t.columns),r(3),b(s),r(3),m("disabled",w(11,3,t.isFirstPage$)),r(4),y(" Page ",w(15,5,t.currentPage$)," "),r(2),m("disabled",w(17,7,t.isLastPage$))}}var je=(()=>{class e{searchKey$;columns=[];data$;data=new D(void 0);pageData$;currentPage$=new I(1);isLastPage$=new I(!1);isFirstPage$=new I(!0);totalPage=0;itemsPerPage=17;totalItems=0;ngOnInit(){if(console.log(this.data$),this.data$!==null)this.data$=this.data$.pipe(O(t=>{this.totalItems=t.length,this.currentPage$.next(1)}));else return;this.searchKey$=this.searchKey$.pipe(O(()=>{this.currentPage$.next(1)})),this.pageData$=A([this.currentPage$,this.data$,this.searchKey$.pipe(G(""))]).pipe(P(([t,i,n])=>i.filter(l=>l.name?.toLowerCase().includes(n.toLowerCase())||l.description?.toLowerCase().includes(n.toLowerCase())||String(l.active).toLowerCase().includes(n.toLowerCase())).slice(this.itemsPerPage*(t-1),this.itemsPerPage*t))),this.isFirstPage$=this.currentPage$.pipe(P(t=>t===1)),this.isLastPage$=A([this.currentPage$,this.data$,this.searchKey$.pipe(G(""))]).pipe(P(([t,i,n])=>{let l=i.filter(V=>V.name?.toLowerCase().includes(n.toLowerCase())||V.description?.toLowerCase().includes(n.toLowerCase())||String(V.active).toLowerCase().includes(n.toLowerCase())),se=Math.max(l.length,1);return t===Math.ceil(se/this.itemsPerPage)}))}nextPage(){this.currentPage$.next(this.currentPage$.value+1)}prevPage(){this.currentPage$.next(this.currentPage$.value-1)}emitData(t){this.data.emit(t)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=_({type:e,selectors:[["app-table"]],inputs:{searchKey$:"searchKey$",columns:"columns",data$:"data$"},outputs:{data:"data"},standalone:!0,features:[g],decls:2,vars:3,consts:[[1,"table","table-fixed","text-gray-700","drop-shadow-lg"],[3,"class"],[1,"flex","justify-end","join"],[1,"join-item","btn","btn-sm",3,"click","disabled"],[1,"join-item","btn","btn-sm"],["type","checkbox",1,"checkbox"],[3,"click"],[1,"dropdown","dropdown-left","2xl:dropdown-right"],["tabindex","0","role","button",1,"btn","m-1","btn-sm"],["tabindex","0",1,"dropdown-content","z-[1]","menu","p-2","shadow","bg-base-200","rounded-box","w-24"]],template:function(i,n){if(i&1&&(u(0,ve,19,9),$(1,"async")),i&2){let l;d((l=w(1,1,n.pageData$))?0:-1,l)}},dependencies:[C,W,j],encapsulation:2,changeDetection:0})}return e})();var He=(()=>{class e{url=J.apiUrl;http=E(q);customers=U([]);technicians=U([]);getAllUsers(){return this.http.get(this.url+"admin/accounts",{observe:"response"})}getAllCustomers(){this.http.get(this.url+"admin/accounts").subscribe(t=>{let n=t.data.filter(l=>l.user_role.id===5).map(l=>({label:l.name,value:l.id.toString()}));this.customers.set(n)})}getAllTechnicians(){this.http.get(this.url+"admin/accounts").subscribe(t=>{let n=t.data.filter(l=>l.user_role.id===4).map(l=>({label:l.name,value:l.id.toString()}));this.technicians.set(n)})}getUserById(t){return this.http.get(this.url+"admin/accounts/"+t)}createUser(t){return this.http.post(this.url+"admin/accounts",t,{observe:"response"})}deleteUser(t){return this.http.delete(this.url+"admin/accounts/"+t,{observe:"response"})}static \u0275fac=function(i){return new(i||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Re=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=_({type:e,selectors:[["app-loading"]],standalone:!0,features:[g],decls:2,vars:0,consts:[[1,"flex","justify-center"],["src","images/jlc_logo.png","alt","loading",1,"animate-ping","w-20"]],template:function(i,n){i&1&&(o(0,"div",0),f(1,"img",1),a())},dependencies:[C],encapsulation:2,changeDetection:0})}return e})();function he(e,s){if(e&1&&f(0,"svg-icon",1),e&2){let t=c();m("src",t.icon)}}function ye(e,s){if(e&1&&(o(0,"div",2),f(1,"div",3),p(2),a()),e&2){let t=c();r(2),y(" ",t.loadingText," ")}}function Te(e,s){if(e&1&&p(0),e&2){let t=c();y(" ",t.actionText," ")}}var nt=(()=>{class e{actionText;icon;type;loading=!1;disabled=!1;buttonStyle;loadingText;action=new D;onClick(){this.action.emit()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=_({type:e,selectors:[["app-button"]],inputs:{actionText:"actionText",icon:"icon",type:"type",loading:"loading",disabled:"disabled",buttonStyle:"buttonStyle",loadingText:"loadingText"},outputs:{action:"action"},standalone:!0,features:[g],decls:4,vars:4,consts:[[1,"flex","flex-row","gap-1",3,"click","type","ngClass"],["svgClass","w-5 h-5","aria-hidden","true",3,"src"],[1,"flex","gap-1","justify-center"],[1,"w-5","h-5","rounded-full","animate-spin","border-2","border-solid","border-gray-50","border-t-purple-300","my-auto"]],template:function(i,n){i&1&&(o(0,"button",0),v("click",function(){return n.onClick()}),u(1,he,1,1,"svg-icon",1)(2,ye,3,1,"div",2)(3,Te,1,1),a()),i&2&&(z("type",n.type),m("ngClass",n.buttonStyle),r(),d(!n.loading&&n.icon?1:-1),r(),d(n.loading?2:3))},dependencies:[C,N,j,ae],encapsulation:2,changeDetection:0})}return e})();var le=[{label:"plus",value:"icons/heroicons/outline/plus-circle.svg"},{label:"minus",value:"icons/heroicons/outline/minus.svg"},{label:"calendar",value:"icons/heroicons/outline/calendar.svg"},{label:"cog",value:"icons/heroicons/outline/cog.svg"},{label:"list",value:"icons/heroicons/outline/list.svg"},{label:"document",value:"icons/heroicons/solid/document.svg"},{label:"gift",value:"icons/heroicons/outline/gift.svg"},{label:"close",value:"icons/heroicons/outline/x.svg"}];var rt=(()=>{class e{icons=le;getIcon(t){return console.log(t),this.icons.find(n=>n.label===t)?.value||"wala"}static \u0275fac=function(i){return new(i||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Se=()=>[],$e=e=>({"!outline-red-500":e});function we(e,s){if(e&1&&(o(0,"option",3),p(1),a()),e&2){let t=c();r(),h(t.placeholder)}}function Fe(e,s){if(e&1&&(o(0,"option",4),p(1),a()),e&2){let t=s.$implicit;m("value",t.value),r(),h(t.label)}}function Ie(e,s){if(e&1&&(o(0,"div",5),p(1),a()),e&2){let t=c();r(),h(t.getErrorMessage())}}var gt=(()=>{class e{formGroup;controlName;label;placeholder="";options;labelClass=[];formValidationService=E(oe);get formControl(){return this.formGroup.get(this.controlName)}getErrorMessage(){return this.formValidationService.getErrorMessage(this.formControl.errors)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=_({type:e,selectors:[["jlc-select-field"]],inputs:{formGroup:"formGroup",controlName:"controlName",label:"label",placeholder:"placeholder",options:"options",labelClass:"labelClass"},standalone:!0,features:[g],decls:8,vars:13,consts:[[1,"block","w-full","text-left","my-2","float-left",3,"formGroup"],[1,"block","text-xxs","font-medium","text-gray-600","mb-1",3,"for","ngClass"],[1,"block","w-full","rounded-lg","py-[10px]","px-3","font-normal","text-xs","bg-white","text-gray-600","border-0","border-r-[14px]","border-transparent","outline","outline-1","outline-gray-300","focus:outline-gray-500","focus-visible:outline-gray-500","hover:outline-gray-500",3,"formControlName","id","name","ngClass"],["disabled","","value","","selected",""],[3,"value"],[1,"text-red-500","text-xs","mt-1"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"label",1),p(2),a(),o(3,"select",2),u(4,we,2,1,"option",3),x(5,Fe,2,2,"option",4,K),a(),u(7,Ie,2,1,"div",5),a()),i&2&&(m("formGroup",n.formGroup),r(),m("for",n.controlName)("ngClass",n.labelClass.length>0?n.labelClass:R(10,Se)),r(),h(n.label),r(),m("formControlName",n.controlName)("id",n.controlName)("name",n.controlName)("ngClass",L(11,$e,n.formControl.invalid&&(n.formControl.dirty||n.formControl.touched))),r(),d(n.placeholder?4:-1),r(),b(n.options),r(2),d(n.formControl.invalid&&(n.formControl.dirty||n.formControl.touched)?7:-1))},dependencies:[C,N,ie,te,ne,ee,Q,X,Y,Z],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return e})();export{je as a,He as b,Re as c,nt as d,rt as e,gt as f};
