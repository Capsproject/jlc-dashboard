import{a as z,c as E}from"./chunk-RW22PKBS.js";import{I as L,Ka as x,L as M,Ma as g,Nb as K,Oa as V,Pa as d,Qa as k,Sa as y,Sb as H,Ta as T,Tb as b,Ua as o,Va as a,Wa as m,Y as C,Ya as I,Za as _,_a as l,bb as j,ea as h,fa as v,g as S,hb as p,ib as A,jb as u,lb as f,ma as F,nb as O,o as P,p as D,pb as $,qb as w,za as c}from"./chunk-O6BTFPW4.js";var G=(e,r)=>r.id,J=e=>[e,"text-gray-800"];function Q(e,r){e&1&&(o(0,"label"),m(1,"input",5),a())}function R(e,r){if(e&1&&p(0),e&2){let t=l().$implicit;u(" ",t.name," ")}}function U(e,r){if(e&1&&(o(0,"th"),x(1,Q,2,0,"label")(2,R,1,1),a()),e&2){let t=r.$implicit;V(t.class?O(3,J,t.class):""),c(),d(t.tableHeaderType==="checkbox"?1:t.tableHeaderType==="text"?2:-1)}}function X(e,r){if(e&1&&p(0),e&2){let t=l().$implicit,n=l().$implicit;u(" ",n[t.key]," ")}}function Y(e,r){if(e&1){let t=I();o(0,"li",6),_("click",function(){let i=h(t).$implicit,s=l(3).$implicit;return v(i.method(s))}),o(1,"a"),p(2),a()()}if(e&2){let t=r.$implicit,n=l(3).$implicit;c(2),A(t.name!=="$active"?t.name:n.active?"Deactivate":"Activate")}}function Z(e,r){if(e&1&&(o(0,"div",7)(1,"div",8),p(2," Action "),a(),o(3,"ul",9),y(4,Y,3,1,"li",null,k),a()()),e&2){let t=l().$implicit;c(4),T(t.item)}}function ee(e,r){e&1&&(o(0,"label"),m(1,"input",5),a())}function te(e,r){if(e&1){let t=I();o(0,"td",6),_("click",function(){h(t);let i=l().$implicit,s=l(2);return v(s.emitData(i))}),x(1,X,1,1)(2,Z,6,0,"div",7)(3,ee,2,0,"label"),a()}if(e&2){let t,n=r.$implicit;c(),d((t=n.tableBodyType)==="text"?1:t==="menu"?2:t==="checkbox"?3:-1)}}function ne(e,r){if(e&1&&(o(0,"tr"),y(1,te,4,1,"td",null,k),a()),e&2){let t=l(2);c(),T(t.columns)}}function ie(e,r){if(e&1){let t=I();o(0,"div")(1,"table",0)(2,"thead")(3,"tr"),y(4,U,3,5,"th",1,k),a()(),o(6,"tbody"),y(7,ne,3,0,"tr",null,G),a()()(),o(9,"div",2)(10,"button",3),$(11,"async"),_("click",function(){h(t);let i=l();return v(i.prevPage())}),p(12," \xAB "),a(),o(13,"button",4),p(14),$(15,"async"),a(),o(16,"button",3),$(17,"async"),_("click",function(){h(t);let i=l();return v(i.nextPage())}),p(18," \xBB "),a()()}if(e&2){let t=l();c(4),T(t.columns),c(3),T(r),c(3),g("disabled",w(11,3,t.isFirstPage$)),c(4),u(" Page ",w(15,5,t.currentPage$)," "),c(2),g("disabled",w(17,7,t.isLastPage$))}}var Ce=(()=>{class e{searchKey$;columns=[];data$;data=new F(void 0);pageData$;currentPage$=new S(1);isLastPage$=new S(!1);isFirstPage$=new S(!0);totalPage=0;itemsPerPage=17;totalItems=0;ngOnInit(){if(console.log(this.data$),this.data$!==null)this.data$=this.data$.pipe(M(t=>{this.totalItems=t.length,this.currentPage$.next(1)}));else return;this.searchKey$=this.searchKey$.pipe(M(()=>{this.currentPage$.next(1)})),this.pageData$=D([this.currentPage$,this.data$,this.searchKey$.pipe(L(""))]).pipe(P(([t,n,i])=>n.filter(s=>s.name?.toLowerCase().includes(i.toLowerCase())||s.description?.toLowerCase().includes(i.toLowerCase())||String(s.active).toLowerCase().includes(i.toLowerCase())).slice(this.itemsPerPage*(t-1),this.itemsPerPage*t))),this.isFirstPage$=this.currentPage$.pipe(P(t=>t===1)),this.isLastPage$=D([this.currentPage$,this.data$,this.searchKey$.pipe(L(""))]).pipe(P(([t,n,i])=>{let s=n.filter(B=>B.name?.toLowerCase().includes(i.toLowerCase())||B.description?.toLowerCase().includes(i.toLowerCase())||String(B.active).toLowerCase().includes(i.toLowerCase())),W=Math.max(s.length,1);return t===Math.ceil(W/this.itemsPerPage)}))}nextPage(){this.currentPage$.next(this.currentPage$.value+1)}prevPage(){this.currentPage$.next(this.currentPage$.value-1)}emitData(t){this.data.emit(t)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=C({type:e,selectors:[["app-table"]],inputs:{searchKey$:"searchKey$",columns:"columns",data$:"data$"},outputs:{data:"data"},standalone:!0,features:[f],decls:2,vars:3,consts:[[1,"table","table-fixed","text-gray-700","drop-shadow-lg"],[3,"class"],[1,"flex","justify-end","join"],[1,"join-item","btn","btn-sm",3,"click","disabled"],[1,"join-item","btn","btn-sm"],["type","checkbox",1,"checkbox"],[3,"click"],[1,"dropdown","dropdown-left","2xl:dropdown-right"],["tabindex","0","role","button",1,"btn","m-1","btn-sm"],["tabindex","0",1,"dropdown-content","z-[1]","menu","p-2","shadow","bg-base-200","rounded-box","w-24"]],template:function(n,i){if(n&1&&(x(0,ie,19,9),$(1,"async")),n&2){let s;d((s=w(1,1,i.pageData$))?0:-1,s)}},dependencies:[b,H,E],encapsulation:2,changeDetection:0})}return e})();var fe=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=C({type:e,selectors:[["app-loading"]],standalone:!0,features:[f],decls:2,vars:0,consts:[[1,"flex","justify-center"],["src","images/jlc_logo.png","alt","loading",1,"animate-ping","w-20"]],template:function(n,i){n&1&&(o(0,"div",0),m(1,"img",1),a())},dependencies:[b],encapsulation:2,changeDetection:0})}return e})();function oe(e,r){if(e&1&&m(0,"svg-icon",1),e&2){let t=l();g("src",t.icon)}}function ae(e,r){if(e&1&&(o(0,"div",2),m(1,"div",3),p(2),a()),e&2){let t=l();c(2),u(" ",t.loadingText," ")}}function re(e,r){if(e&1&&p(0),e&2){let t=l();u(" ",t.actionText," ")}}var Fe=(()=>{class e{actionText;icon;type;loading=!1;disabled=!1;buttonStyle;loadingText;action=new F;ngOnInit(){console.log(this.icon)}onClick(){this.action.emit()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=C({type:e,selectors:[["app-button"]],inputs:{actionText:"actionText",icon:"icon",type:"type",loading:"loading",disabled:"disabled",buttonStyle:"buttonStyle",loadingText:"loadingText"},outputs:{action:"action"},standalone:!0,features:[f],decls:4,vars:4,consts:[[1,"flex","flex-row","gap-1",3,"click","type","ngClass"],["svgClass","w-5 h-5","aria-hidden","true",3,"src"],[1,"flex","gap-1","justify-center"],[1,"w-5","h-5","rounded-full","animate-spin","border-2","border-solid","border-gray-50","border-t-purple-300","my-auto"]],template:function(n,i){n&1&&(o(0,"button",0),_("click",function(){return i.onClick()}),x(1,oe,1,1,"svg-icon",1)(2,ae,3,1,"div",2)(3,re,1,1),a()),n&2&&(j("type",i.type),g("ngClass",i.buttonStyle),c(),d(!i.loading&&i.icon?1:-1),c(),d(i.loading?2:3))},dependencies:[b,K,E,z],encapsulation:2,changeDetection:0})}return e})();export{Ce as a,fe as b,Fe as c};
