import{a as x}from"./chunk-MZ4IBQOD.js";import{Ab as T,B as b,Ba as L,Ea as N,G as S,Gb as h,K as C,Kb as j,N as p,O as A,Q as w,S as B,T as a,U as E,V as R,X as U,Y as k,_ as D,ab as I,bb as V,k as u,l as v,mb as O,o as y,oa as l,pa as M,w as m}from"./chunk-DSI57U6V.js";var G=["*"],c=class{},F=(()=>{let r=class r extends c{constructor(e){super(),this.http=e}getSvg(e){return this.http.get(e,{responseType:"text"})}};r.\u0275fac=function(t){return new(t||r)(B(x))},r.\u0275prov=p({token:r,factory:r.\u0275fac});let o=r;return o})(),z=new w("SERVER_URL"),d=(()=>{let r=class r{constructor(){this.loader=a(c),this.serverUrl=a(z,{optional:!0}),this.document=a(j),this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map}addSvg(e,t){if(!this.iconsByUrl.has(e)){let s=this.document.createElement("DIV");s.innerHTML=t;let i=s.querySelector("svg");this.iconsByUrl.set(e,i)}}loadSvg(e,t=e){if(this.serverUrl&&e.match(/^(http(s)?):/)===null&&(e=this.serverUrl+e,t=e),this.iconsByUrl.has(t))return u(this.iconsByUrl.get(t));if(this.iconsLoadingByUrl.has(t))return this.iconsLoadingByUrl.get(t);let s=this.loader.getSvg(e).pipe(y(i=>{let n=this.document.createElement("DIV");return n.innerHTML=i,n.querySelector("svg")}),C(i=>this.iconsByUrl.set(t,i)),m(i=>(console.error(i),v(i))),b(()=>this.iconsLoadingByUrl.delete(t)),S());return this.iconsLoadingByUrl.set(t,s),s}getSvgByName(e){return this.iconsByUrl.has(e)?u(this.iconsByUrl.get(e)):this.iconsLoadingByUrl.has(e)?this.iconsLoadingByUrl.get(e):v(`No svg with name '${e}' has been loaded`)}unloadSvg(e){this.iconsByUrl.has(e)&&this.iconsByUrl.delete(e)}};r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=p({token:r,factory:r.\u0275fac});let o=r;return o})();function H(o){return o||new d}var $={provide:d,deps:[[new E,new R,d]],useFactory:H},f=class{constructor(){this.loaded=!1}},tt=(()=>{let r=class r{constructor(){this.element=a(M),this.differs=a(T),this.renderer=a(L),this.iconReg=a(d),this.src=l(),this.name=l(),this.stretch=l(!1),this.applyClass=l(!1),this.svgClass=l(),this.klass=l(void 0,{alias:"class"}),this.viewBox=l(),this.svgAriaLabel=l(),this.svg=N(0),this.svgStyle=l(),this.helper=new f,h(()=>{(this.src()||this.name())&&(this.destroy(),this.init(this.src(),this.name()))},{allowSignalWrites:!0}),h(()=>{let s=this.viewBox();this.svg()&&this.updateViewBox(s)}),h(()=>{let s=this.svgStyle()||{};this.svg()&&this.applyChanges(this.helper.differ.diff(s))}),h(()=>{let s=this.svg();this.applyClass()?this.setClass(this.elemSvg,null,this.klass()):this.setClass(this.elemSvg,this.klass(),null)});let e;h(()=>{let s=this.svg();this.setClass(this.elemSvg,e,this.svgClass()),e=this.svgClass()});let t;h(()=>{let s=this.svg(),i=this.element.nativeElement;this.setClass(i,t,this.klass()),this.setClass(this.elemSvg,t,this.applyClass()?this.klass():null),t=this.klass()}),h(()=>{let s=this.svg();this.doAria(this.svgAriaLabel())}),h(()=>{let s=this.svg();this.stylize(this.stretch())})}ngOnDestroy(){this.destroy()}get elemSvg(){return this.element.nativeElement.firstChild}init(e,t){if(e&&t){let s=this.iconReg.loadSvg(e,t);s&&(this.helper.icnSub=s.subscribe(i=>this.initSvg(i)))}else if(t){let s=this.iconReg.getSvgByName(t);s&&(this.helper.icnSub=s.subscribe(i=>this.initSvg(i)))}else if(e){let s=this.iconReg.loadSvg(e);s&&(this.helper.icnSub=s.subscribe(i=>this.initSvg(i)))}else this.element.nativeElement.innerHTML="",this.svg.set(0)}initSvg(e){!this.helper.loaded&&e&&this.setSvg(e)}destroy(){this.helper.icnSub?.unsubscribe(),this.helper=new f,this.helper.differ=this.differs.find({}).create()}setSvg(e){if(!this.helper.loaded&&e){this.helper.svg=e;let t=e.cloneNode(!0),s=this.element.nativeElement;s.innerHTML="",this.renderer.appendChild(s,t),this.helper.loaded=!0,this.copyNgContentAttribute(s,t),this.svg.update(i=>i+1)}}updateViewBox(e){if(e){let t=this.elemSvg;if(e==="auto"){let s=t.getAttribute("width"),i=t.getAttribute("height");if(i&&s){let n=`0 0 ${s} ${i}`;this.renderer.setAttribute(t,"viewBox",n),this.renderer.removeAttribute(t,"width"),this.renderer.removeAttribute(t,"height")}}else e!==""&&(this.renderer.setAttribute(t,"viewBox",e),this.renderer.removeAttribute(t,"width"),this.renderer.removeAttribute(t,"height"))}}copyNgContentAttribute(e,t){let s=e.attributes,i=s.length;for(let n=0;n<i;n+=1){let g=s.item(n);if(g&&g.name.startsWith("_ngcontent")){this.setNgContentAttribute(t,g.name);break}}}setNgContentAttribute(e,t){this.renderer.setAttribute(e,t,"");let s=e.childNodes.length;for(let i=0;i<s;i+=1){let n=e.childNodes[i];n instanceof Element&&this.setNgContentAttribute(n,t)}}stylize(e){if(this.helper.svg){let t=this.element.nativeElement.firstChild;e===!0?this.renderer.setAttribute(t,"preserveAspectRatio","none"):e===!1&&this.renderer.removeAttribute(t,"preserveAspectRatio")}}applyChanges(e){e&&(e.forEachRemovedItem(t=>this.setStyle(t.key,null)),e.forEachAddedItem(t=>this.setStyle(t.key,t.currentValue)),e.forEachChangedItem(t=>this.setStyle(t.key,t.currentValue)))}setStyle(e,t){let[s,i]=e.split(".");t=t!==null&&i?`${t}${i}`:t;let n=this.elemSvg;t!==null?this.renderer.setStyle(n,s,t):this.renderer.removeStyle(n,s)}setClass(e,t,s){if(e){if(t){let i=(Array.isArray(t)?t:t.split(" ")).filter(n=>n);for(let n of i)this.renderer.removeClass(e,n)}if(s){let i=(Array.isArray(s)?s:s.split(" ")).filter(n=>n);for(let n of i)this.renderer.addClass(e,n)}}}doAria(e){let t=this.element.nativeElement.firstChild;t&&!(e===void 0&&t.hasAttribute("aria-label"))&&(e===""?(this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.removeAttribute(t,"aria-label")):(this.renderer.removeAttribute(t,"aria-hidden"),this.renderer.setAttribute(t,"aria-label",e)))}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=U({type:r,selectors:[["svg-icon"]],inputs:{src:[1,"src"],name:[1,"name"],stretch:[1,"stretch"],applyClass:[1,"applyClass"],svgClass:[1,"svgClass"],klass:[1,"class","klass"],viewBox:[1,"viewBox"],svgAriaLabel:[1,"svgAriaLabel"],svgStyle:[1,"svgStyle"]},standalone:!0,features:[O],ngContentSelectors:G,decls:1,vars:0,template:function(t,s){t&1&&(I(),V(0))},encapsulation:2,changeDetection:0});let o=r;return o})();function et(o={}){return D([$,o.loader||{provide:c,useClass:F}])}var st=(()=>{let r=class r{static forRoot(e={}){return{ngModule:r,providers:[$,e.loader||{provide:c,useClass:F}]}}};r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=k({type:r}),r.\u0275inj=A({});let o=r;return o})();export{tt as a,et as b,st as c};
